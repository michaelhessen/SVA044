<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVA044 Grammatik ‚Äì Tenta√∂vning & Studieverktyg</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,600;0,8..60,700;1,8..60,400&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
--pri:#1a56db;--pri-l:#dbeafe;--pri-d:#1e40af;--pri-x:#0c2d6b;
--acc:#f97316;--acc-l:#fff7ed;--acc-border:#fb923c;
--grn:#059669;--grn-l:#d1fae5;--grn-border:#34d399;
--red:#dc2626;--red-l:#fee2e2;--yel:#f59e0b;--yel-l:#fef3c7;
--bg:#f8fafc;--surface:#ffffff;--text:#0f172a;--text2:#475569;--text3:#94a3b8;
--border:#e2e8f0;--radius:10px;--shadow:0 1px 3px rgba(0,0,0,.08);
--font-body:'DM Sans',system-ui,sans-serif;--font-head:'Source Serif 4',Georgia,serif;
}
html{font-size:16px;scroll-behavior:smooth}
body{font-family:var(--font-body);color:var(--text);background:var(--bg);line-height:1.6;min-height:100vh;display:flex;flex-direction:column}
h1,h2,h3,h4{font-family:var(--font-head);font-weight:600;line-height:1.3}
h1{font-size:1.75rem}h2{font-size:1.4rem}h3{font-size:1.15rem}
a{color:var(--pri);text-decoration:none}
button{font-family:var(--font-body);cursor:pointer;border:none;background:none;font-size:.9rem}
textarea,input,select{font-family:var(--font-body);font-size:.95rem;border:1.5px solid var(--border);border-radius:8px;padding:10px 12px;width:100%;background:var(--surface);color:var(--text);transition:border-color .2s}
textarea:focus,input:focus,select:focus{outline:none;border-color:var(--pri);box-shadow:0 0 0 3px rgba(26,86,219,.12)}
textarea{resize:vertical;min-height:80px}

/* Header */
.header{background:var(--surface);border-bottom:1px solid var(--border);padding:0 1.5rem;position:sticky;top:0;z-index:100}
.header-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:1rem;height:60px}
.logo{display:flex;align-items:center;gap:.6rem;font-family:var(--font-head);font-weight:700;font-size:1.1rem;color:var(--pri-x);white-space:nowrap}
.logo-mark{width:32px;height:32px;background:var(--pri);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:.85rem;font-family:var(--font-head)}
.nav{display:flex;gap:2px;margin-left:auto;background:var(--bg);border-radius:8px;padding:3px}
.nav-btn{padding:8px 16px;border-radius:6px;font-weight:500;color:var(--text2);transition:all .2s;white-space:nowrap;font-size:.85rem}
.nav-btn:hover{color:var(--text);background:var(--surface)}
.nav-btn.active{background:var(--pri);color:#fff;box-shadow:0 1px 3px rgba(26,86,219,.3)}

/* Main */
.main{flex:1;max-width:1200px;width:100%;margin:0 auto;padding:1.5rem}
.tab-content{display:none;animation:fadeIn .3s ease}
.tab-content.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* Cards */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;margin-bottom:1rem;box-shadow:var(--shadow)}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
.card h2{margin-bottom:.5rem}
.card h3{margin-bottom:.4rem}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:.4rem;padding:10px 20px;border-radius:8px;font-weight:600;font-size:.9rem;transition:all .2s}
.btn-pri{background:var(--pri);color:#fff}.btn-pri:hover{background:var(--pri-d)}
.btn-sec{background:var(--pri-l);color:var(--pri-d)}.btn-sec:hover{background:#c7d9f7}
.btn-acc{background:var(--acc);color:#fff}.btn-acc:hover{background:#ea680c}
.btn-ghost{border:1.5px solid var(--border);color:var(--text2)}.btn-ghost:hover{border-color:var(--pri);color:var(--pri)}
.btn-sm{padding:6px 14px;font-size:.82rem}
.btn-grp{display:flex;flex-wrap:wrap;gap:.5rem}

/* Badges & Tags */
.badge{display:inline-flex;align-items:center;padding:3px 10px;border-radius:20px;font-size:.75rem;font-weight:600}
.badge-pri{background:var(--pri-l);color:var(--pri-d)}
.badge-grn{background:var(--grn-l);color:var(--grn)}
.badge-acc{background:var(--acc-l);color:var(--acc)}
.badge-red{background:var(--red-l);color:var(--red)}

/* Special boxes */
.box-tip{background:var(--grn-l);border-left:4px solid var(--grn);border-radius:0 8px 8px 0;padding:1rem 1.25rem;margin:1rem 0}
.box-tip::before{content:'üí° Tankeregel';display:block;font-weight:700;font-size:.85rem;color:var(--grn);margin-bottom:.3rem}
.box-exam{background:var(--acc-l);border-left:4px solid var(--acc);border-radius:0 8px 8px 0;padding:1rem 1.25rem;margin:1rem 0}
.box-exam::before{content:'üìù Vanligt p√• tentan';display:block;font-weight:700;font-size:.85rem;color:var(--acc);margin-bottom:.3rem}
.box-info{background:var(--pri-l);border-left:4px solid var(--pri);border-radius:0 8px 8px 0;padding:1rem 1.25rem;margin:1rem 0}
.box-warn{background:var(--red-l);border-left:4px solid var(--red);border-radius:0 8px 8px 0;padding:1rem 1.25rem;margin:1rem 0}

/* Text passage */
.text-passage{background:#fefce8;border:1px solid #fde68a;border-radius:8px;padding:1.25rem;margin:1rem 0;font-family:var(--font-head);font-size:.95rem;line-height:1.8;color:#451a03}
.text-passage-label{font-family:var(--font-body);font-weight:700;font-size:.8rem;color:var(--acc);text-transform:uppercase;letter-spacing:.05em;margin-bottom:.5rem}

/* Tables */
.tbl{width:100%;border-collapse:collapse;margin:1rem 0;font-size:.9rem}
.tbl th{background:var(--pri);color:#fff;padding:10px 12px;text-align:left;font-weight:600;font-size:.82rem}
.tbl td{padding:9px 12px;border-bottom:1px solid var(--border)}
.tbl tr:hover td{background:var(--pri-l)}
.tbl-sm th{padding:7px 10px;font-size:.78rem}.tbl-sm td{padding:6px 10px;font-size:.85rem}
.tbl input,.tbl textarea{border:1px solid var(--border);border-radius:4px;padding:6px 8px;font-size:.85rem;min-height:auto}
.tbl textarea{min-height:36px;resize:vertical}

/* Schema table for positionsschema */
.schema-wrap{overflow-x:auto;margin:1rem 0;border:1px solid var(--border);border-radius:8px}
.schema-tbl{min-width:700px;width:100%;border-collapse:collapse;font-size:.82rem}
.schema-tbl th{background:var(--pri-d);color:#fff;padding:8px 6px;text-align:center;font-size:.72rem;white-space:nowrap}
.schema-tbl td{padding:4px;border:1px solid var(--border)}
.schema-tbl input{width:100%;border:1px solid transparent;border-radius:3px;padding:5px 4px;font-size:.82rem;text-align:center;background:transparent}
.schema-tbl input:focus{border-color:var(--pri);background:var(--pri-l)}

/* Exam selector */
.exam-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem;margin:1rem 0}
.exam-card{border:2px solid var(--border);border-radius:8px;padding:.75rem;text-align:center;cursor:pointer;transition:all .2s}
.exam-card:hover{border-color:var(--pri);background:var(--pri-l)}
.exam-card.active{border-color:var(--pri);background:var(--pri);color:#fff}
.exam-card.active .exam-card-sub{color:rgba(255,255,255,.8)}
.exam-card-date{font-weight:700;font-size:.9rem}
.exam-card-sub{font-size:.75rem;color:var(--text2);margin-top:2px}
.exam-card.generated{border-style:dashed}
.exam-card.generated.active{border-style:solid}

/* Category chips for partial practice */
.chip-grid{display:flex;flex-wrap:wrap;gap:.4rem;margin:1rem 0}
.chip{padding:7px 16px;border-radius:20px;font-size:.82rem;font-weight:600;border:2px solid var(--border);cursor:pointer;transition:all .2s}
.chip:hover{border-color:var(--pri);color:var(--pri)}
.chip.active{background:var(--pri);color:#fff;border-color:var(--pri)}

/* Results display */
.result-header{text-align:center;padding:2rem;background:linear-gradient(135deg,var(--pri),var(--pri-d));color:#fff;border-radius:var(--radius);margin-bottom:1.5rem}
.result-grade{font-size:3rem;font-weight:700;font-family:var(--font-head)}
.result-score{font-size:1.2rem;opacity:.9;margin-top:.25rem}
.result-q{padding:1rem;border:1px solid var(--border);border-radius:8px;margin-bottom:.75rem;transition:all .2s}
.result-q.correct{border-left:4px solid var(--grn)}
.result-q.partial{border-left:4px solid var(--yel)}
.result-q.incorrect{border-left:4px solid var(--red)}
.result-dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:.4rem}
.dot-grn{background:var(--grn)}.dot-yel{background:var(--yel)}.dot-red{background:var(--red)}
.att-tanka-pa{background:var(--acc-l);border-radius:6px;padding:.75rem 1rem;margin-top:.5rem;font-size:.88rem;border-left:3px solid var(--acc)}

/* Study sidebar */
.study-layout{display:grid;grid-template-columns:260px 1fr;gap:1.5rem}
.study-nav{position:sticky;top:76px;align-self:start;max-height:calc(100vh - 92px);overflow-y:auto;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:.75rem}
.study-nav-chapter{font-weight:700;font-size:.82rem;padding:8px 10px;color:var(--text2);text-transform:uppercase;letter-spacing:.03em}
.study-nav-item{display:block;padding:7px 10px 7px 20px;border-radius:6px;font-size:.85rem;color:var(--text2);cursor:pointer;transition:all .15s;text-decoration:none}
.study-nav-item:hover{background:var(--pri-l);color:var(--pri)}
.study-nav-item.active{background:var(--pri);color:#fff;font-weight:600}
.study-content{min-width:0}
.study-section{margin-bottom:2rem}
.study-section p{margin-bottom:.6rem}

/* Quiz */
.quiz-box{background:var(--bg);border:2px solid var(--border);border-radius:var(--radius);padding:1.25rem;margin:1.5rem 0}
.quiz-q{font-weight:600;margin-bottom:.75rem}
.quiz-opts label{display:flex;align-items:center;gap:.5rem;padding:8px 12px;border-radius:6px;cursor:pointer;margin-bottom:4px;transition:background .15s}
.quiz-opts label:hover{background:var(--pri-l)}
.quiz-opts input[type=radio]{accent-color:var(--pri);width:16px;height:16px}
.quiz-feedback{margin-top:.75rem;padding:.75rem 1rem;border-radius:6px;font-size:.9rem;display:none}
.quiz-feedback.show{display:block}
.quiz-feedback.correct{background:var(--grn-l);color:#065f46}
.quiz-feedback.wrong{background:var(--red-l);color:#991b1b}

/* Settings */
.setting-row{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid var(--border)}
.setting-label{font-weight:600;font-size:.9rem}
.setting-desc{font-size:.82rem;color:var(--text2);margin-top:2px}
.api-key-input{display:flex;gap:.5rem;max-width:500px}
.api-key-input input{font-family:monospace;font-size:.85rem}

/* Dashboard stats */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin:1.5rem 0}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;text-align:center}
.stat-num{font-size:2rem;font-weight:700;font-family:var(--font-head);color:var(--pri)}
.stat-label{font-size:.82rem;color:var(--text2);margin-top:.2rem}

/* Quick links */
.quick-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin:1.5rem 0}
.quick-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;cursor:pointer;transition:all .2s;text-align:center}
.quick-card:hover{border-color:var(--pri);transform:translateY(-2px);box-shadow:0 4px 12px rgba(26,86,219,.12)}
.quick-card-icon{font-size:2rem;margin-bottom:.5rem}
.quick-card h3{margin-bottom:.3rem}
.quick-card p{font-size:.85rem;color:var(--text2)}

/* Progress bar */
.progress{height:6px;background:var(--border);border-radius:3px;overflow:hidden;margin:.5rem 0}
.progress-fill{height:100%;background:var(--pri);border-radius:3px;transition:width .3s}

/* Loading spinner */
.spinner{display:inline-block;width:20px;height:20px;border:2.5px solid var(--border);border-top-color:var(--pri);border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-overlay{position:fixed;inset:0;background:rgba(255,255,255,.8);display:flex;align-items:center;justify-content:center;z-index:1000;flex-direction:column;gap:1rem}

/* Word counter */
.word-count{text-align:right;font-size:.78rem;color:var(--text3);margin-top:4px}
.word-count.warn{color:var(--red)}

/* Question numbering */
.q-num{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--pri);color:#fff;border-radius:50%;font-weight:700;font-size:.8rem;margin-right:.5rem;flex-shrink:0}
.q-label{font-weight:600;margin-bottom:.5rem;display:flex;align-items:center}
.q-points{font-size:.78rem;color:var(--text3);font-weight:400;margin-left:auto}

/* Toggle */
.toggle-group{display:flex;background:var(--bg);border-radius:8px;padding:3px;border:1px solid var(--border);margin-bottom:1rem}
.toggle-btn{flex:1;padding:8px 16px;text-align:center;border-radius:6px;font-weight:600;font-size:.85rem;color:var(--text2);transition:all .2s;cursor:pointer}
.toggle-btn.active{background:var(--pri);color:#fff}

/* Responsive */
@media(max-width:768px){
  .header-inner{height:auto;flex-wrap:wrap;padding:.75rem 0}
  .nav{margin-left:0;width:100%;overflow-x:auto;flex-wrap:nowrap}
  .nav-btn{padding:8px 12px;font-size:.78rem}
  .main{padding:1rem}
  .study-layout{grid-template-columns:1fr}
  .study-nav{position:static;max-height:none}
  .exam-grid{grid-template-columns:repeat(auto-fill,minmax(110px,1fr))}
  .stats-grid{grid-template-columns:1fr 1fr}
  .quick-grid{grid-template-columns:1fr}
  .result-grade{font-size:2.2rem}
}
@media(max-width:480px){
  .nav-btn{padding:6px 10px;font-size:.72rem}
  h1{font-size:1.4rem}
  .stat-num{font-size:1.5rem}
}
</style>
</head>
<body>

<header class="header">
<div class="header-inner">
  <div class="logo">
    <div class="logo-mark">Sv</div>
    <span>SVA044 Grammatik</span>
  </div>
  <nav class="nav" id="mainNav">
    <button class="nav-btn active" data-tab="hem">Hem</button>
    <button class="nav-btn" data-tab="ovning">Tenta√∂vning</button>
    <button class="nav-btn" data-tab="tentatest">Tentatest</button>
    <button class="nav-btn" data-tab="plugga">Plugga</button>
    <button class="nav-btn" data-tab="settings">Inst√§llningar</button>
  </nav>
</div>
</header>

<main class="main">
<!-- HEM TAB -->
<div class="tab-content active" id="tab-hem"></div>
<!-- √ñVNING TAB -->
<div class="tab-content" id="tab-ovning"></div>
<!-- TENTATEST TAB -->
<div class="tab-content" id="tab-tentatest"></div>
<!-- PLUGGA TAB -->
<div class="tab-content" id="tab-plugga"></div>
<!-- SETTINGS TAB -->
<div class="tab-content" id="tab-settings"></div>
</main>

<script>
// ============================================================
// SVA044 GRAMMATIK ‚Äì INTERACTIVE STUDY PLATFORM
// ============================================================

// ---- EXAM DATA ----
const EXAMS = [
{id:'240927',date:'2024-09-27',location:'Eskilstuna',maxPts:100,
del1:{title:'Forml√§ra',pts:64,
text1:{label:'TEXT 1',content:'Skolverket har sedan tidigare i uppdrag att utveckla digitaliserade nationella prov och bed√∂mningsst√∂d i grundskolan och p√• gymnasial niv√•. Regeringen √§ndrar nu Skolverkets uppdrag s√• att de nationella proven och bed√∂mningsst√∂den i l√•gstadiet inte l√§ngre ska digitaliseras. Skolverket har √§ven i uppdrag att inf√∂ra central r√§ttning av delar av de nationella proven. Det finns i dag utmaningar med att de nationella proven inte bed√∂ms likv√§rdigt, s√§rskilt n√§r det g√§ller uppsatsdelar. En del i att komma till r√§tta med detta √§r digitala nationella prov d√§r delar av proven r√§ttas av centralt anst√§llda l√§rare.'},
questions:[
{id:'240927-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut',instr:'Ta ut samtliga substantiv fr√•n text 1 ovan (inte egennamn). Om samma substantiv f√∂rekommer flera g√•nger skriver du dessa substantiv ocks√• flera g√•nger i den form som dessa st√•r i.',type:'textarea',hints:'uppdrag, prov, bed√∂mningsst√∂d, grundskolan, niv√•, uppdrag, proven, bed√∂mningsst√∂den, l√•gstadiet, uppdrag, r√§ttning, delar, proven, utmaningar, proven, uppsatsdelar, del, prov, delar, proven, l√§rare'},
{id:'240927-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì singular/plural',instr:'Ange f√∂r varje substantiv (samtliga i 1a) om det st√•r i singular eller plural.',type:'textarea',hints:'uppdrag=sing, prov=plur, bed√∂mningsst√∂d=plur, grundskolan=sing, niv√•=sing, proven=plur, bed√∂mningsst√∂den=plur, l√•gstadiet=sing, r√§ttning=sing, delar=plur, utmaningar=plur, uppsatsdelar=plur, del=sing, l√§rare=plur'},
{id:'240927-2a',cat:'verb',label:'2a) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb fr√•n text 1 ovan.',type:'textarea',hints:'har, utveckla, √§ndrar, ska, digitaliseras, har, inf√∂ra, finns, bed√∂ms, g√§ller, komma, √§r, r√§ttas, anst√§llda'},
{id:'240927-2b',cat:'verb',label:'2b) Verb ‚Äì tempus',instr:'Ange tv√• tempus som f√∂rekommer i text 1, och ge ocks√• minst ett exempel fr√•n dessa tv√• tempus fr√•n texten.',type:'textarea',hints:'Presens: √§ndrar, finns, g√§ller. Infinitiv: utveckla, inf√∂ra, digitaliseras.'},
{id:'240927-3',cat:'preposition',label:'3) Prepositioner',instr:'Skriv fyra olika prepositioner som f√∂rekommer i text 1.',type:'textarea',hints:'i, att, p√•, av, med, till, sedan'},
{id:'240927-4',cat:'morfemanalys',label:'4) Morfemanalys',instr:'G√∂r en morfemanalys av f√∂ljande sats i text 1: "d√§r delar av proven r√§ttas av centralt anst√§llda l√§rare."',type:'textarea',hints:'d√§r=rotmorfem, del-ar=rot+b√∂jn, av=rotmorfem, prov-en=rot+b√∂jn, r√§tt-as=rot+b√∂jn(passiv), av=rot, central-t=rot+b√∂jn, an-st√§ll-d-a=prefix+rot+b√∂jn+b√∂jn, l√§r-ar-e=rot+avledn+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:26,
text2:{label:'TEXT 2',content:'Men de senaste fyra √•ren har elevernas resultat f√∂rb√§ttrats rej√§lt, s√• pass att skolan faktiskt √§r en av dem i Sverige som har h√∂jt sig mest. Orsakerna √§r flera, konstaterar Malin Bergdahl. Men framf√∂r allt lyfter hon fram det dubbla l√§rarskapet, d√§r varje lektion alltid h√•lls av tv√• l√§rare tillsammans.'},
questions:[
{id:'240927-5',cat:'bisatser',label:'5) Bisatser',instr:'Ta ut samtliga bisatser fr√•n text 2. Du plockar ut hela bisatsen, det vill s√§ga inte bara bisatsinledaren.',type:'textarea',hints:'att skolan faktiskt √§r en av dem i Sverige som har h√∂jt sig mest; som har h√∂jt sig mest; d√§r varje lektion alltid h√•lls av tv√• l√§rare tillsammans'},
{id:'240927-6',cat:'positionsschema',label:'6) Positionsschema',instr:'S√§tt samtliga bisatser i ett positionsschema f√∂r bisatser.',type:'schema',hints:'Bisatsinledare|Subjekt|Satsadv|Finit verb|Infinit verb|Objekt/Pred|Adverbial'},
{id:'240927-7',cat:'subjekt_finit',label:'7) Subjekt & finit verb',instr:'Ange f√∂r varje sats i text 2, b√•de huvudsatser och bisatser, vad som √§r subjektet och det finita verbet.',type:'textarea',hints:'HS1: elevernas resultat + har f√∂rb√§ttrats; BS1: skolan + √§r; BS2: som + har h√∂jt; HS2: Orsakerna + √§r; HS3: hon + lyfter; BS3: varje lektion + h√•lls'}
]},
del3:{title:'Grammatikdidaktik i klassrummet',pts:10,
question:{id:'240927-8',cat:'didaktik',label:'8) Prepositioner ‚Äì didaktik',instr:'Dagens tema √§r prepositioner, och du har ett (grammatik) pass kring just den ordklassen. Du f√∂rklarar pedagogiskt f√∂r dina elever i √•r 1 vad prepositioner √§r (du ger givetvis exempel) och g√∂r en √∂vning med dem. Beskriv f√∂r mig hur ditt pass g√•r till.',type:'textarea_long',minWords:0,hints:'B√∂r inneh√•lla: definition av prepositioner, enkla exempel (p√•, i, under, bakom), konkret √∂vning anpassad f√∂r √•k 1, pedagogisk approach'}}
},

{id:'241025',date:'2024-10-25',location:'Eskilstuna',maxPts:100,
del1:{title:'Forml√§ra',pts:56,
text1:{label:'TEXT 1',content:'Och ibland minns jag √§ven n√•gra av mina egna l√§rare. De som var sn√§lla och str√§nga, inte det ena eller det andra utan kombinationen. De var sj√§lvklara auktoriteter f√∂r oss barn i sina klassrum, i matsalen, p√• skolg√•rden. Vi s√•g dem s√• och jag v√•gar h√§vda att de sj√§lva s√•g sig s√•, men ocks√• att det omgivande samh√§llet, inklusive f√∂r√§ldrarna, gjorde det.'},
questions:[
{id:'241025-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut',instr:'Ta ut samtliga substantiv fr√•n text 1 ovan (inte egennamn).',type:'textarea',hints:'l√§rare, kombinationen, auktoriteter, barn, klassrum, matsalen, skolg√•rden, samh√§llet, f√∂r√§ldrarna'},
{id:'241025-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì best√§md/obest√§md + sing/plur',instr:'Ange f√∂r varje substantiv om det st√•r i best√§md eller obest√§md form, och om det st√•r i singular eller plural.',type:'textarea',hints:'l√§rare=obest plur, kombinationen=best sing, auktoriteter=obest plur, barn=obest plur, klassrum=obest plur, matsalen=best sing, skolg√•rden=best sing, samh√§llet=best sing, f√∂r√§ldrarna=best plur'},
{id:'241025-2a',cat:'verb',label:'2a) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb fr√•n text 1 ovan.',type:'textarea',hints:'minns, var, var, s√•g, v√•gar, h√§vda, s√•g, gjorde'},
{id:'241025-2b',cat:'verb',label:'2b) Verb ‚Äì tempus',instr:'Ange tv√• tempus som f√∂rekommer i text 1, och ge minst ett exempel.',type:'textarea',hints:'Presens: minns, v√•gar. Preteritum: var, s√•g, gjorde.'},
{id:'241025-3',cat:'pronomen',label:'3) Pronomen',instr:'Skriv fyra olika pronomen som f√∂rekommer i text 1.',type:'textarea',hints:'jag, mina, de, det, oss, sina, vi, dem, sig, n√•gra'},
{id:'241025-4',cat:'adjektiv',label:'4) Adjektiv',instr:'Skriv fyra olika adjektiv som f√∂rekommer i text 1.',type:'textarea',hints:'egna, sn√§lla, str√§nga, ena, andra, sj√§lvklara, omgivande'},
{id:'241025-5',cat:'morfemanalys',label:'5) Morfemanalys',instr:'G√∂r en morfemanalys av f√∂ljande sats: "De som var sn√§lla och str√§nga, inte det ena eller det andra utan kombinationen."',type:'textarea',hints:'De=rot, som=rot, var=rot, sn√§ll-a=rot+b√∂jn, och=rot, str√§ng-a=rot+b√∂jn, inte=rot, det=rot, en-a=rot+b√∂jn, eller=rot, det=rot, andr-a=rot+b√∂jn, utan=rot, kombinat-ion-en=rot+avledn+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:34,
text2:{label:'TEXT 2',content:'Det som framf√∂r allt framtr√§der √§r hur m√•ngfacetterat uppdraget som f√∂rskoll√§rare och barnsk√∂tare √§r. H√§r skiftar arbetsuppgifterna fr√•n undervisning till att byta bl√∂jor och allt d√§remellan. I avhandlingen har jag identifierat fyra professionella identiteter som pedagogerna v√§xlar mellan: l√§raren, omsorgsut√∂varen, hush√•llsarbetaren och administrat√∂ren. Jag menar att det kr√§vs en komplexitet f√∂r att kunna hantera alla dessa yrkesidentiteter. Men i f√∂rskoll√§rarnas texter m√§rks ocks√• en frustration √∂ver att uppdraget som "l√§rare" inte hinns med till fullo eftersom praktiska bestyr m√•ste g√• f√∂re.'},
questions:[
{id:'241025-6',cat:'bisatser',label:'6) Bisatser',instr:'Ta ut samtliga bisatser fr√•n text 2.',type:'textarea',hints:'som framf√∂r allt framtr√§der; hur m√•ngfacetterat uppdraget som f√∂rskoll√§rare och barnsk√∂tare √§r; som f√∂rskoll√§rare och barnsk√∂tare √§r (relativ bisats); som pedagogerna v√§xlar mellan; att det kr√§vs en komplexitet; att kunna hantera alla dessa yrkesidentiteter; att uppdraget som "l√§rare" inte hinns med till fullo; eftersom praktiska bestyr m√•ste g√• f√∂re'},
{id:'241025-7',cat:'subjekt_finit',label:'7) Subjekt & finit verb',instr:'Ange f√∂r varje sats i text 2, b√•de huvudsatser och bisatser, vad som √§r subjektet och det finita verbet.',type:'textarea',hints:'HS: Det + √§r; BS: som + framtr√§der; HS: arbetsuppgifterna + skiftar; HS: jag + har identifierat; BS: som + v√§xlar; HS: Jag + menar; BS: det + kr√§vs; HS: en frustration + m√§rks; BS: uppdraget + hinns; BS: bestyr + m√•ste'}
]},
del3:{title:'Grammatikdidaktik i klassrummet',pts:10,
question:{id:'241025-8',cat:'didaktik',label:'8) Pronomen ‚Äì didaktik',instr:'Dagens tema √§r pronomen, och du har ett (grammatik) pass kring just den ordklassen. Du f√∂rklarar pedagogiskt f√∂r dina elever i √•r 2 vad pronomen √§r (du ger givetvis exempel) och g√∂r en √∂vning med dem. Beskriv f√∂r mig hur ditt pass g√•r till.',type:'textarea_long',minWords:0,hints:'B√∂r inneh√•lla: definition av pronomen, enkla exempel (jag, du, hon, han, vi, de), √∂vning anpassad f√∂r √•k 2'}}
},

{id:'250221',date:'2025-02-21',location:'V√§ster√•s',maxPts:100,
del1:{title:'Ordklasser och ordbildning',pts:54,
text1:{label:'TEXT 1',content:'Skolportens digitala kurser passar dig som √∂nskar f√∂rdjupning inom ett specifikt √§mnesomr√•de p√• ett interaktivt s√§tt. Kurserna leds av √§mnesexperter och inneh√•ller filmer, texter och √∂vningar d√§r du kan f√∂lja din progression. En kurs kan bokas under hela l√§s√•ret med flexibelt startdatum. Under sex m√•nader kan du ta del av kursen i din egen takt. Kursintyg ing√•r!'},
questions:[
{id:'250221-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1 ovan (inte egennamn).',type:'textarea',hints:'kurser, dig, f√∂rdjupning, √§mnesomr√•de, s√§tt, kurserna, √§mnesexperter, filmer, texter, √∂vningar, progression, kurs, l√§s√•ret, startdatum, m√•nader, del, kursen, takt, kursintyg'},
{id:'250221-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Ange f√∂r varje substantiv om det st√•r i best√§md eller obest√§md form, och singular eller plural.',type:'textarea',hints:'kurser=obest plur, f√∂rdjupning=obest sing, √§mnesomr√•de=obest sing, s√§tt=obest sing, kurserna=best plur, etc.'},
{id:'250221-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb fr√•n text 1.',type:'textarea',hints:'passar, √∂nskar, leds, inneh√•ller, kan, f√∂lja, kan, bokas, kan, ta, ing√•r'},
{id:'250221-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Vilket tempus √§r text 1 skriven i? Ge tv√• exempel.',type:'textarea',hints:'Presens: passar, leds, inneh√•ller, ing√•r'},
{id:'250221-1e',cat:'pronomen',label:'1e) Pronomen',instr:'Ta ut 3 olika pronomen fr√•n text 1.',type:'textarea',hints:'dig, som, du, din, en'},
{id:'250221-1f',cat:'didaktik',label:'1f) Pronomen ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r dina elever i √•r 2 vad pronomen √§r (du ger givetvis exempel) och g√∂r en √∂vning med dem. Beskriv f√∂r mig hur ditt pass g√•r till. (minst 70 ord)',type:'textarea_long',minWords:70,hints:'Definition av pronomen, enkla exempel, √∂vning f√∂r √•k 2'},
{id:'250221-1g',cat:'morfemanalys',label:'1g) Morfemanalys',instr:'G√∂r en morfemanalys av: "Kurserna leds av √§mnesexperter och inneh√•ller filmer, texter och √∂vningar"',type:'textarea',hints:'Kurs-er-na=rot+b√∂jn+b√∂jn, led-s=rot+b√∂jn(passiv), av=rot, √§mne-s-expert-er=rot+fog+rot+b√∂jn, och=rot, inne-h√•ll-er=prefix+rot+b√∂jn, film-er=rot+b√∂jn, text-er=rot+b√∂jn, och=rot, √∂vn-ing-ar=rot+avledn+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:36,
text2:{label:'TEXT 2',content:'De allra flesta l√§rare tycker att de har ett viktigt och meningsfullt yrke. Det beh√∂ver komma fram tydligare i samtalet och debatten. Men sen ser vi ocks√• att m√•nga upplever h√∂g arbetsbelastning och stress. Vi ser att oron f√∂r hot och v√•ld har √∂kat. D√§rf√∂r beh√∂vs ett f√∂rst√§rkt arbetsmilj√∂arbete p√• m√•nga f√∂rskolor och skolor, s√§ger Sanna Vent.'},
questions:[
{id:'250221-2a',cat:'subjekt_finit',label:'2a) Subjekt & finit verb',instr:'Ange f√∂r varje sats i text 2, vad som √§r subjektet och det finita verbet.',type:'textarea',hints:'HS: De allra flesta l√§rare + tycker; BS: de + har; HS: Det + beh√∂ver; HS: vi + ser; BS: m√•nga + upplever; HS: Vi + ser; BS: oron + har √∂kat; HS: ett f√∂rst√§rkt arbetsmilj√∂arbete + beh√∂vs'},
{id:'250221-2b',cat:'bisatser',label:'2b) Bisatser',instr:'Ta ut samtliga bisatser fr√•n text 2.',type:'textarea',hints:'att de har ett viktigt och meningsfullt yrke; att m√•nga upplever h√∂g arbetsbelastning och stress; att oron f√∂r hot och v√•ld har √∂kat'},
{id:'250221-2c',cat:'positionsschema',label:'2c) Positionsschema',instr:'S√§tt f√∂ljande bisatser i positionsschema: 1) "som √∂nskar f√∂rdjupning inom ett specifikt √§mnesomr√•de p√• ett interaktivt s√§tt" 2) "d√§r du kan f√∂lja din progression"',type:'schema',hints:'1: som|‚àÖ|‚àÖ|√∂nskar|‚àÖ|f√∂rdjupning|inom ett specifikt √§mnesomr√•de p√• ett interaktivt s√§tt. 2: d√§r|du|‚àÖ|kan|f√∂lja|din progression|‚àÖ'}
]},
del3:{title:'Grammatikdidaktik i klassrummet',pts:10,
question:{id:'250221-3',cat:'didaktik',label:'3) Grammatik i klassrummet',instr:'Beskriv hur du kommer l√§gga upp grammatikundervisning i ditt klassrum (v√§lj F, 1, 2 eller 3). Skriv minst 150 ord.',type:'textarea_long',minWords:150,hints:'V√§lj √•rskurs, beskriv lektionsuppl√§gg, inkludera konkreta √∂vningar och pedagogisk metod'}}
},

{id:'250321',date:'2025-03-21',location:'V√§ster√•s',maxPts:100,
del1:{title:'Ordklasser och ordbildning',pts:54,
text1:{label:'TEXT 1',content:'Barn och elever p√•verkas av det som sker i omv√§rlden. De h√∂r och ser bilder och kan i m√•nga fall k√§nna oro. Alla har olika s√§tt att hantera oro. En del vill kanske inte t√§nka p√• krig eller hot om krig och undviker d√§rf√∂r att prata om det. Det √§r d√§rf√∂r viktigt att l√•ta de fr√•gor som kommer upp styra samtalet. Du som vuxen kan lyfta √§mnet, men l√•t barnen eller eleverna styra samtalet. L√•t inte din egen oro eller dina egna k√§nslor och √•sikter ta √∂ver i samtalen. Det √§r viktigt att barn och elever f√•r k√§nna trygghet och att vuxna i omgivningen inger hopp.'},
questions:[
{id:'250321-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1.',type:'textarea',hints:'barn, elever, omv√§rlden, bilder, fall, oro, s√§tt, del, krig, hot, fr√•gor, samtalet, √§mnet, barnen, eleverna, oro, k√§nslor, √•sikter, samtalen, trygghet, omgivningen, hopp'},
{id:'250321-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Ange f√∂r varje substantiv om det st√•r i singular/plural och best√§md/obest√§md form.',type:'textarea',hints:'barn=obest plur, elever=obest plur, omv√§rlden=best sing, bilder=obest plur, fall=obest plur, oro=obest sing, etc.'},
{id:'250321-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb fr√•n text 1.',type:'textarea',hints:'p√•verkas, sker, h√∂r, ser, kan, k√§nna, har, hantera, vill, t√§nka, undviker, prata, √§r, l√•ta, kommer, styra, kan, lyfta, l√•t, styra, l√•t, ta, √§r, f√•r, k√§nna, inger'},
{id:'250321-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Vilket tempus √§r text 1 skriven i? Ge tv√• exempel.',type:'textarea',hints:'Presens: p√•verkas, sker, h√∂r, ser, har, √§r, undviker, inger'},
{id:'250321-1e',cat:'pronomen',label:'1e) Pronomen ‚Äì ta ut 6',instr:'Ta ut 6 olika pronomen som f√∂rekommer i text 1.',type:'textarea',hints:'det, de, alla, en, det, du, som, din, dina'}
]},
del2:{title:'Satsl√§ra',pts:46,
text2:{label:'TEXT 2',content:'Jag blev riktigt glad och det t√§ndes ett hopp om f√∂r√§ndring och f√∂rb√§ttring f√∂r alla Sveriges L√§rare. Jag har arbetat tillr√§ckligt l√§nge f√∂r att kunna referera till hur l√§raryrket var f√∂rr och hur yrket f√∂r√§ndras. Det k√§nns mycket bra att en extern utredare "f√∂rst√•r" vilka utmaningar och problem vi har i dagens skola och som dessutom s√§tter fingret p√• t ex undervisningstiden, planeringstiden, samt definierar vad l√§rare inte borde utf√∂ra f√∂r arbetsuppgifter. Min f√∂rhoppning √§r att detta blir verklighet och leder till en uppv√§rdering av yrket och att vi kan f√• fler unga att v√§lja l√§raryrket, samt att beh√•lla dagens l√§rare.'},
questions:[
{id:'250321-2a',cat:'subjekt_finit',label:'2a) Subjekt & finit verb',instr:'Ange f√∂r varje sats subjekt och finit verb.',type:'textarea',hints:'HS: Jag + blev; HS: det + t√§ndes; HS: Jag + har arbetat; BS: l√§raryrket + var; BS: yrket + f√∂r√§ndras; HS: Det + k√§nns; BS: en extern utredare + f√∂rst√•r; BS: vi + har; BS: som + s√§tter; HS: Min f√∂rhoppning + √§r; BS: detta + blir; BS: vi + kan'},
{id:'250321-2b',cat:'bisatser',label:'2b) Bisatser ‚Äì ta ut 8',instr:'Ta ut 8 bisatser fr√•n text 2. Skriv hela bisatsen. Om du skriver fler r√§knas bara de 8 f√∂rsta.',type:'textarea',hints:'att kunna referera till hur l√§raryrket var f√∂rr; hur l√§raryrket var f√∂rr; hur yrket f√∂r√§ndras; att en extern utredare f√∂rst√•r vilka utmaningar och problem vi har; vilka utmaningar och problem vi har i dagens skola; som dessutom s√§tter fingret p√• t ex undervisningstiden; vad l√§rare inte borde utf√∂ra f√∂r arbetsuppgifter; att detta blir verklighet; att vi kan f√• fler unga att v√§lja l√§raryrket; att beh√•lla dagens l√§rare'}
]},
del3:{title:'Grammatikdidaktik',pts:10,
question:{id:'250321-3',cat:'didaktik',label:'3) Grammatik i klassrummet',instr:'Beskriv hur du l√§gger upp grammatikundervisning i klassrummet. V√§lj √•rskurs F, 1, 2 eller 3. Minst 150 ord.',type:'textarea_long',minWords:150,hints:'V√§lj √•rskurs, beskriv lektionsuppl√§gg, inkludera √∂vningar och metod'}}
},

{id:'250822',date:'2025-08-22',location:'V√§ster√•s',maxPts:100,
del1:{title:'Ordklasser och ordbildning',pts:54,
text1:{label:'TEXT 1',content:'P√• vissa skolor har elever f√•tt som anpassning att g√• in och ut ur klassrummet hur de sj√§lva vill. P√• andra f√•r de arbeta i grupprum, skrolla p√• mobilen under lektionerna eller ha musik i lurarna under l√§rarnas genomg√•ngar. Vanligt √§r ocks√• att l√§rare f√•tt instruktioner om att absolut inte h√•lla genomg√•ngar som √§r l√§ngre √§n 15 minuter f√∂r d√• tr√∂ttnar eleverna.'},
questions:[
{id:'250822-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1.',type:'textarea',hints:'skolor, elever, anpassning, klassrummet, grupprum, mobilen, lektionerna, musik, lurarna, genomg√•ngar, l√§rare, instruktioner, genomg√•ngar, minuter, eleverna'},
{id:'250822-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Ange best√§md/obest√§md form och singular/plural.',type:'textarea',hints:'skolor=obest plur, elever=obest plur, anpassning=obest sing, klassrummet=best sing, grupprum=obest plur, mobilen=best sing, lektionerna=best plur, musik=obest sing, lurarna=best plur, genomg√•ngar=obest plur'},
{id:'250822-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb fr√•n text 1.',type:'textarea',hints:'har, f√•tt, g√•, vill, f√•r, arbeta, skrolla, ha, √§r, f√•tt, h√•lla, √§r, tr√∂ttnar'},
{id:'250822-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Ange tv√• verb-tempus med exempel.',type:'textarea',hints:'Presens: vill, f√•r, √§r, tr√∂ttnar. Supinum: f√•tt. Infinitiv: g√•, arbeta, skrolla, ha, h√•lla.'},
{id:'250822-1e',cat:'preposition',label:'1e) Prepositioner',instr:'Ta ut 3 olika prepositioner.',type:'textarea',hints:'p√•, ur, i, under, om, f√∂r, √§n'},
{id:'250822-1f',cat:'didaktik',label:'1f) Prepositioner ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r dina elever i √•r 2 vad prepositioner √§r och g√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, enkla exempel, √∂vning anpassad √•k 2'},
{id:'250822-1g',cat:'morfemanalys',label:'1g) Morfemanalys',instr:'G√∂r en morfemanalys av: "att l√§rare f√•tt instruktioner om att absolut inte h√•lla genomg√•ngar"',type:'textarea',hints:'att=rot, l√§r-ar-e=rot+avledn+b√∂jn, f√•tt=rot(supinum), instrukt-ion-er=rot+avledn+b√∂jn, om=rot, att=rot, absolut=rot, inte=rot, h√•ll-a=rot+b√∂jn, genom-g√•ng-ar=prefix+rot+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:36,
text2:{label:'TEXT 2',content:'De allra flesta l√§rare tycker att de har ett viktigt och meningsfullt yrke. Det beh√∂ver komma fram tydligare i samtalet och debatten. Men sen ser vi ocks√• att m√•nga upplever h√∂g arbetsbelastning och stress. Vi ser att oron f√∂r hot och v√•ld har √∂kat. D√§rf√∂r beh√∂vs ett f√∂rst√§rkt arbetsmilj√∂arbete p√• m√•nga f√∂rskolor och skolor, s√§ger Sanna Vent.'},
questions:[
{id:'250822-2a',cat:'subjekt_finit',label:'2a) Subjekt & finit verb',instr:'Ange subjekt och finit verb f√∂r varje sats.',type:'textarea',hints:'Se 250221 ‚Äì samma text'},
{id:'250822-2b',cat:'bisatser',label:'2b) Bisatser',instr:'Ta ut samtliga bisatser.',type:'textarea',hints:'att de har ett viktigt och meningsfullt yrke; att m√•nga upplever h√∂g arbetsbelastning och stress; att oron f√∂r hot och v√•ld har √∂kat'},
{id:'250822-2c',cat:'positionsschema',label:'2c) Positionsschema',instr:'S√§tt f√∂ljande bisatser i positionsschema: 1) "hur de sj√§lva vill" 2) "att l√§rare f√•tt instruktioner om att absolut inte h√•lla genomg√•ngar"',type:'schema',hints:'1: hur|de|sj√§lva|vill|‚àÖ|‚àÖ|‚àÖ. 2: att|l√§rare|‚àÖ|‚àÖ|f√•tt|instruktioner|om att absolut inte h√•lla genomg√•ngar'}
]},
del3:{title:'Grammatikdidaktik',pts:10,
question:{id:'250822-3',cat:'didaktik',label:'3) Grammatik i klassrummet',instr:'Beskriv hur du l√§gger upp grammatikundervisning. V√§lj F/1/2/3. Minst 150 ord.',type:'textarea_long',minWords:150,hints:'√Örskurs, lektionsuppl√§gg, √∂vningar, pedagogisk metod'}}
},

{id:'250926',date:'2025-09-26',location:'Eskilstuna',maxPts:100,
del1:{title:'Forml√§ra',pts:57,
text1:{label:'TEXT 1',content:'Regeringen vill se nationella riktlinjer f√∂r brott mot skolplikten ‚Äì bland annat b√∂ter f√∂r f√∂r√§ldrar som tar sina barn ur skolan trots att de f√•tt nej av rektor. I f√∂rl√§ngningen kan det √§ven komma att g√§lla barn med problematisk skolfr√•nvaro, enligt utredaren Josefin Malmqvist.'},
questions:[
{id:'250926-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1 (inte egennamn).',type:'textarea',hints:'riktlinjer, brott, skolplikten, b√∂ter, f√∂r√§ldrar, barn, skolan, nej, rektor, f√∂rl√§ngningen, barn, skolfr√•nvaro, utredaren'},
{id:'250926-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'riktlinjer=obest plur, brott=obest sing, skolplikten=best sing, b√∂ter=obest plur, f√∂r√§ldrar=obest plur, barn=obest plur, skolan=best sing, nej=obest sing, rektor=obest sing, f√∂rl√§ngningen=best sing'},
{id:'250926-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'vill, se, tar, f√•tt, kan, komma, g√§lla'},
{id:'250926-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Ange tv√• tempus med exempel.',type:'textarea',hints:'Presens: vill, tar, kan. Supinum: f√•tt. Infinitiv: se, komma, g√§lla.'},
{id:'250926-1e',cat:'didaktik',label:'1e) Pronomen ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r dina elever i √•r 2 vad pronomen √§r. G√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, exempel, √∂vning √•k 2'},
{id:'250926-1f',cat:'preposition',label:'1f) Prepositioner',instr:'Skriv 5 olika prepositioner fr√•n text 1.',type:'textarea',hints:'f√∂r, mot, bland, ur, av, i, med, enligt, trots'},
{id:'250926-1g',cat:'morfemanalys',label:'1g) Morfemanalys',instr:'G√∂r en morfemanalys av: "Regeringen vill se nationella riktlinjer f√∂r brott mot skolplikten"',type:'textarea',hints:'Regering-en=rot+b√∂jn, vill=rot, se=rot, nation-ell-a=rot+avledn+b√∂jn, rikt-linje-r=rot+rot+b√∂jn, f√∂r=rot, brott=rot, mot=rot, skol-plikt-en=rot+rot+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:43,
text2:{label:'TEXT 2',content:'Det som framf√∂r allt framtr√§der √§r hur m√•ngfacetterat uppdraget som f√∂rskoll√§rare och barnsk√∂tare √§r. H√§r skiftar arbetsuppgifterna fr√•n undervisning till att byta bl√∂jor och allt d√§remellan. I avhandlingen har jag identifierat fyra professionella identiteter som pedagogerna v√§xlar mellan: l√§raren, omsorgsut√∂varen, hush√•llsarbetaren och administrat√∂ren. Jag menar att det kr√§vs en komplexitet f√∂r att kunna hantera alla dessa yrkesidentiteter. Men i f√∂rskoll√§rarnas texter m√§rks ocks√• en frustration √∂ver att uppdraget som "l√§rare" inte hinns med till fullo eftersom praktiska bestyr m√•ste g√• f√∂re.'},
questions:[
{id:'250926-5',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser fr√•n text 2.',type:'textarea',hints:'som framf√∂r allt framtr√§der; hur m√•ngfacetterat uppdraget som f√∂rskoll√§rare och barnsk√∂tare √§r; som pedagogerna v√§xlar mellan; att det kr√§vs en komplexitet; att uppdraget som l√§rare inte hinns med till fullo; eftersom praktiska bestyr m√•ste g√• f√∂re'},
{id:'250926-6',cat:'positionsschema',label:'2) Positionsschema',instr:'S√§tt tre av bisatserna i ett positionsschema.',type:'schema',hints:'Se bisatserna ovan, f√∂rdela i: bisatsinledare|subjekt|satsadverbial|finit verb|infinit verb|objekt/predikativ|adverbial'},
{id:'250926-7',cat:'subjekt_finit',label:'3) Subjekt & finit verb',instr:'Ange subjekt och finit verb f√∂r varje sats.',type:'textarea',hints:'HS: Det + √§r; BS: som + framtr√§der; HS: arbetsuppgifterna + skiftar; HS: jag + har identifierat; BS: pedagogerna + v√§xlar; HS: Jag + menar; BS: det + kr√§vs; HS: en frustration + m√§rks; BS: uppdraget + hinns; BS: bestyr + m√•ste'}
]},
del3:{title:'',pts:0,question:null}
},

{id:'251024',date:'2025-10-24',location:'Eskilstuna',maxPts:100,
del1:{title:'Forml√§ra',pts:54,
text1:{label:'TEXT 1',content:'Skolinspektionen har i en tematisk tillsyn kontrollerat hur skolor lever upp till kraven i de nya best√§mmelserna om elevers r√§tt till l√§rob√∂cker och andra l√§romedel. De flesta av de 30 granskade skolorna lever upp till lagens krav men brister konstateras p√• 5 av skolorna. Tillsynen ing√•r i ett regeringsuppdrag som ska slutredovisas den 9 oktober 2026.'},
questions:[
{id:'251024-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1 (inte egennamn).',type:'textarea',hints:'tillsyn, skolor, kraven, best√§mmelserna, r√§tt, l√§rob√∂cker, l√§romedel, skolorna, krav, brister, skolorna, tillsynen, regeringsuppdrag'},
{id:'251024-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'tillsyn=obest sing, skolor=obest plur, kraven=best plur, best√§mmelserna=best plur, r√§tt=obest sing, l√§rob√∂cker=obest plur, l√§romedel=obest plur, skolorna=best plur, krav=obest plur, brister=obest plur'},
{id:'251024-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'har, kontrollerat, lever, lever, konstateras, ing√•r, ska, slutredovisas'},
{id:'251024-1d',cat:'verb',label:'1d) Verb ‚Äì tempus (3 st)',instr:'Ange tre tempus med exempel.',type:'textarea',hints:'Presens: lever, konstateras, ing√•r. Perfekt: har kontrollerat. Futurum: ska slutredovisas.'},
{id:'251024-1e',cat:'didaktik',label:'1e) Prepositioner ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r dina elever i √•r 1 vad prepositioner √§r. G√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, enkla exempel, konkret √∂vning √•k 1'},
{id:'251024-1f',cat:'preposition',label:'1f) Prepositioner',instr:'Skriv fyra olika prepositioner fr√•n text 1.',type:'textarea',hints:'i, till, om, av, p√•'},
{id:'251024-1g',cat:'morfemanalys',label:'1g) Morfemanalys',instr:'G√∂r en morfemanalys av: "brister konstateras p√• 5 av skolorna"',type:'textarea',hints:'brist-er=rot+b√∂jn, konstat-er-a-s=rot+avledn+b√∂jn+b√∂jn(passiv), p√•=rot, 5=r√§kneord, av=rot, skol-or-na=rot+b√∂jn+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:46,
text2:{label:'TEXT 2',content:'Vi vet alla hur det k√§nns n√§r man m√∂ter en elev med tom blick. Vi har suttit p√• m√∂ten med v√•rdnadshavare som sliter p√• sitt hj√§rta av oro. Vi har m√∂tt l√§rarna som st√•tt i klassrum och k√§nt att de inte r√§cker till. Men vi vet ocks√• hur det k√§nns n√§r n√•got v√§nder.'},
questions:[
{id:'251024-5',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser fr√•n text 2.',type:'textarea',hints:'hur det k√§nns; n√§r man m√∂ter en elev med tom blick; som sliter p√• sitt hj√§rta av oro; som st√•tt i klassrum; att de inte r√§cker till; hur det k√§nns; n√§r n√•got v√§nder'},
{id:'251024-6',cat:'positionsschema',label:'2) Positionsschema',instr:'S√§tt fyra av bisatserna i positionsschema.',type:'schema',hints:'F√∂rdela i kolumnerna: bisatsinledare|subjekt|satsadverbial|finit verb|infinit verb|objekt/predikativ|adverbial'},
{id:'251024-7',cat:'subjekt_finit',label:'3) Subjekt & finit verb',instr:'Ange subjekt och finit verb f√∂r varje sats.',type:'textarea',hints:'HS: Vi + vet; BS: det + k√§nns; BS: man + m√∂ter; HS: Vi + har suttit; BS: som + sliter; HS: Vi + har m√∂tt; BS: som + st√•tt (k√§nt); BS: de + r√§cker; HS: vi + vet; BS: det + k√§nns; BS: n√•got + v√§nder'}
]},
del3:{title:'',pts:0,question:null}
},

// ---- GENERATED EXAMS ----
{id:'GEN01',date:'Genererad 1',location:'√ñvning',generated:true,maxPts:100,
del1:{title:'Forml√§ra',pts:54,
text1:{label:'TEXT 1',content:'L√§rare i hela Sverige vittnar om en √∂kad stress i vardagen. Arbetsbelastningen har blivit s√• h√∂g att m√•nga √∂verv√§ger att l√§mna yrket. Samtidigt visar ny forskning att elever presterar b√§ttre n√§r l√§rarna m√•r bra och k√§nner arbetsgl√§dje. Skolverket f√∂resl√•r d√§rf√∂r en rad √•tg√§rder f√∂r att st√§rka l√§rarnas arbetsmilj√∂ och g√∂ra yrket mer attraktivt f√∂r unga.'},
questions:[
{id:'GEN01-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv fr√•n text 1 (inte egennamn).',type:'textarea',hints:'l√§rare, stress, vardagen, arbetsbelastningen, yrket, forskning, elever, l√§rarna, arbetsgl√§dje, √•tg√§rder, arbetsmilj√∂, yrket, unga'},
{id:'GEN01-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'l√§rare=obest plur, stress=obest sing, vardagen=best sing, arbetsbelastningen=best sing, yrket=best sing, forskning=obest sing, elever=obest plur, l√§rarna=best plur, arbetsgl√§dje=obest sing, √•tg√§rder=obest plur'},
{id:'GEN01-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'vittnar, har, blivit, √∂verv√§ger, l√§mna, visar, presterar, m√•r, k√§nner, f√∂resl√•r, st√§rka, g√∂ra'},
{id:'GEN01-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Ange tv√• tempus med exempel.',type:'textarea',hints:'Presens: vittnar, visar, presterar, m√•r, f√∂resl√•r. Perfekt: har blivit.'},
{id:'GEN01-1e',cat:'pronomen',label:'1e) Pronomen ‚Äì ta ut 3',instr:'Ta ut 3 olika pronomen.',type:'textarea',hints:'m√•nga (indefinit pronomen), att (subjunktion, ej pronomen ‚Äì obs!), ‚àÖ (texten har f√• pronomen: "m√•nga" kan r√§knas)'},
{id:'GEN01-1g',cat:'morfemanalys',label:'1f) Morfemanalys',instr:'G√∂r en morfemanalys av: "Arbetsbelastningen har blivit s√• h√∂g att m√•nga √∂verv√§ger att l√§mna yrket"',type:'textarea',hints:'Arbete-s-belastning-en=rot+fog+rot(avledn)+b√∂jn, har=rot, bli-v-it=rot+b√∂jn+b√∂jn(supinum), s√•=rot, h√∂g=rot, att=rot, m√•ng-a=rot+b√∂jn, √∂ver-v√§g-er=prefix+rot+b√∂jn, att=rot, l√§mn-a=rot+b√∂jn, yrke-t=rot+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:36,
text2:{label:'TEXT 2',content:'M√•nga kommuner satsar nu stora resurser p√• att rekrytera beh√∂riga l√§rare, men bristen kvarst√•r i flera √§mnen. Utbildningsministern menar att problemet inte kan l√∂sas enbart genom h√∂jda l√∂ner utan att det ocks√• kr√§vs b√§ttre arbetsvillkor. Forskningen visar dessutom att elever som har engagerade l√§rare uppn√•r betydligt h√∂gre resultat, vilket borde vara ett starkt argument f√∂r att investera i l√§rark√•ren.'},
questions:[
{id:'GEN01-2a',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser.',type:'textarea',hints:'att problemet inte kan l√∂sas enbart genom h√∂jda l√∂ner; att det ocks√• kr√§vs b√§ttre arbetsvillkor; att elever som har engagerade l√§rare uppn√•r betydligt h√∂gre resultat; som har engagerade l√§rare; vilket borde vara ett starkt argument f√∂r att investera i l√§rark√•ren'},
{id:'GEN01-2b',cat:'positionsschema',label:'2) Positionsschema',instr:'S√§tt tv√• bisatser i positionsschema.',type:'schema',hints:'att|problemet|inte|kan|l√∂sas|‚àÖ|enbart genom h√∂jda l√∂ner; som|‚àÖ|‚àÖ|har|‚àÖ|engagerade l√§rare|‚àÖ'},
{id:'GEN01-2c',cat:'subjekt_finit',label:'3) Subjekt & finit verb',instr:'Ange subjekt och finit verb f√∂r varje sats.',type:'textarea',hints:'HS: M√•nga kommuner + satsar; HS: bristen + kvarst√•r; HS: Utbildningsministern + menar; BS: problemet + kan; BS: det + kr√§vs; HS: Forskningen + visar; BS: elever + uppn√•r; BS: som (=elever) + har; BS(relativ): vilket + borde'}
]},
del3:{title:'Grammatikdidaktik i klassrummet',pts:10,
question:{id:'GEN01-3',cat:'didaktik',label:'3) Grammatik i klassrummet',instr:'Beskriv hur du l√§gger upp grammatikundervisning. V√§lj F/1/2/3. Minst 150 ord.',type:'textarea_long',minWords:150,hints:'√Örskurs, lektionsuppl√§gg, √∂vningar, pedagogisk metod'}}
},

{id:'GEN02',date:'Genererad 2',location:'√ñvning',generated:true,maxPts:100,
del1:{title:'Forml√§ra',pts:56,
text1:{label:'TEXT 1',content:'Det nya l√§roplanen betonar vikten av att alla elever ska ges m√∂jlighet att utveckla sitt spr√•k i meningsfulla sammanhang. S√§rskilt viktigt √§r det f√∂r flerspr√•kiga barn som beh√∂ver st√∂d b√•de p√• sitt modersm√•l och p√• svenska. Skolan har ett ansvar att erbjuda en inkluderande undervisning d√§r varje elev kan delta aktivt oavsett spr√•klig bakgrund.'},
questions:[
{id:'GEN02-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut',instr:'Ta ut samtliga substantiv.',type:'textarea',hints:'l√§roplanen, vikten, elever, m√∂jlighet, spr√•k, sammanhang, barn, st√∂d, modersm√•l, svenska, skolan, ansvar, undervisning, elev, bakgrund'},
{id:'GEN02-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'l√§roplanen=best sing, vikten=best sing, elever=obest plur, m√∂jlighet=obest sing, spr√•k=obest sing, sammanhang=obest plur, barn=obest plur, st√∂d=obest sing, modersm√•l=obest sing, skolan=best sing, ansvar=obest sing, undervisning=obest sing, elev=obest sing, bakgrund=obest sing'},
{id:'GEN02-2a',cat:'verb',label:'2a) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'betonar, ska, ges, utveckla, √§r, beh√∂ver, har, erbjuda, kan, delta'},
{id:'GEN02-2b',cat:'verb',label:'2b) Verb ‚Äì tempus',instr:'Ange tv√• tempus med exempel.',type:'textarea',hints:'Presens: betonar, √§r, beh√∂ver, har, kan. Infinitiv: ges, utveckla, erbjuda, delta.'},
{id:'GEN02-3',cat:'adjektiv',label:'3) Adjektiv ‚Äì ta ut 4',instr:'Skriv fyra olika adjektiv fr√•n text 1.',type:'textarea',hints:'nya, meningsfulla, viktigt, flerspr√•kiga, inkluderande, aktivt, spr√•klig'},
{id:'GEN02-4',cat:'pronomen',label:'4) Pronomen ‚Äì ta ut 4',instr:'Skriv fyra olika pronomen.',type:'textarea',hints:'det, alla, sitt, som, det, varje, sitt'},
{id:'GEN02-5',cat:'morfemanalys',label:'5) Morfemanalys',instr:'G√∂r en morfemanalys av: "Skolan har ett ansvar att erbjuda en inkluderande undervisning"',type:'textarea',hints:'Skol-an=rot+b√∂jn, har=rot, ett=rot, ansvar=rot, att=rot, er-bjud-a=prefix+rot+b√∂jn, en=rot, in-klud-er-ande=prefix+rot+avledn+b√∂jn(particip), under-vis-ning=prefix+rot+avledn'}
]},
del2:{title:'Satsl√§ra',pts:34,
text2:{label:'TEXT 2',content:'Forskare vid G√∂teborgs universitet har unders√∂kt hur barn l√§r sig l√§sa i skolor som anv√§nder olika metoder. Resultaten visar att de barn som f√•r systematisk undervisning i fonologisk medvetenhet kn√§cker l√§skoden snabbare. Studien betonar dock att ingen metod fungerar isolerat utan att l√§raren alltid spelar den avg√∂rande rollen.'},
questions:[
{id:'GEN02-6',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser.',type:'textarea',hints:'hur barn l√§r sig l√§sa i skolor; som anv√§nder olika metoder; att de barn som f√•r systematisk undervisning i fonologisk medvetenhet kn√§cker l√§skoden snabbare; som f√•r systematisk undervisning i fonologisk medvetenhet; att ingen metod fungerar isolerat; att l√§raren alltid spelar den avg√∂rande rollen'},
{id:'GEN02-7',cat:'subjekt_finit',label:'2) Subjekt & finit verb',instr:'Ange subjekt och finit verb per sats.',type:'textarea',hints:'HS: Forskare + har unders√∂kt; BS: barn + l√§r sig; BS: som (skolor) + anv√§nder; HS: Resultaten + visar; BS: de barn + kn√§cker; BS: som (barn) + f√•r; HS: Studien + betonar; BS: ingen metod + fungerar; BS: l√§raren + spelar'}
]},
del3:{title:'Grammatikdidaktik',pts:10,
question:{id:'GEN02-8',cat:'didaktik',label:'3) Pronomen ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r elever i √•r 2 vad pronomen √§r. G√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, exempel, √∂vning √•k 2'}}
},

{id:'GEN03',date:'Genererad 3',location:'√ñvning',generated:true,maxPts:100,
del1:{title:'Forml√§ra',pts:57,
text1:{label:'TEXT 1',content:'Regeringen har beslutat att satsa mer pengar p√• skolbibliotek i hela landet. Alla grundskolor ska ha tillg√•ng till ett bemannat bibliotek med utbildade bibliotekarier. F√∂rslaget har v√§lkomnats av l√§rarf√∂rbunden som l√§nge har kr√§vt b√§ttre resurser f√∂r l√§sfr√§mjande insatser. Kritiker menar dock att satsningen kommer f√∂r sent och att de befintliga biblioteken redan √§r i d√•ligt skick.'},
questions:[
{id:'GEN03-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv.',type:'textarea',hints:'pengar, skolbibliotek, landet, grundskolor, tillg√•ng, bibliotek, bibliotekarier, f√∂rslaget, l√§rarf√∂rbunden, resurser, insatser, kritiker, satsningen, biblioteken, skick'},
{id:'GEN03-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'pengar=obest plur, skolbibliotek=obest plur, landet=best sing, grundskolor=obest plur, tillg√•ng=obest sing, bibliotek=obest sing, bibliotekarier=obest plur, f√∂rslaget=best sing, l√§rarf√∂rbunden=best plur, resurser=obest plur'},
{id:'GEN03-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'har, beslutat, satsa, ska, ha, har, v√§lkomnats, har, kr√§vt, menar, kommer, √§r'},
{id:'GEN03-1d',cat:'verb',label:'1d) Verb ‚Äì tre tempus',instr:'Ange tre tempus med exempel.',type:'textarea',hints:'Presens: menar, kommer, √§r. Perfekt: har beslutat, har v√§lkomnats, har kr√§vt. Infinitiv: satsa, ha.'},
{id:'GEN03-1e',cat:'preposition',label:'1e) Prepositioner ‚Äì ta ut 4',instr:'Skriv fyra prepositioner.',type:'textarea',hints:'p√•, i, till, av, f√∂r, med'},
{id:'GEN03-1f',cat:'didaktik',label:'1f) Prepositioner ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r elever i √•r 1 vad prepositioner √§r. G√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, exempel, √∂vning √•k 1'},
{id:'GEN03-1g',cat:'morfemanalys',label:'1g) Morfemanalys',instr:'G√∂r en morfemanalys av: "F√∂rslaget har v√§lkomnats av l√§rarf√∂rbunden"',type:'textarea',hints:'F√∂rslag-et=rot+b√∂jn, har=rot, v√§lkomn-a-ts=rot+b√∂jn+b√∂jn(passiv supinum), av=rot, l√§r-ar-f√∂rbund-en=rot+avledn+rot+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:43,
text2:{label:'TEXT 2',content:'Bibliotekarierna ber√§ttar att de ofta k√§nner sig ensamma i sitt arbete eftersom de s√§llan har kollegor som f√∂rst√•r deras uppdrag. M√•nga upplever att skolledningen inte prioriterar biblioteket, trots att forskningen tydligt visar att tillg√•ng till b√∂cker och l√§sning har en avg√∂rande betydelse f√∂r elevernas spr√•kutveckling.'},
questions:[
{id:'GEN03-5',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser.',type:'textarea',hints:'att de ofta k√§nner sig ensamma i sitt arbete; eftersom de s√§llan har kollegor; som f√∂rst√•r deras uppdrag; att skolledningen inte prioriterar biblioteket; trots att forskningen tydligt visar; att tillg√•ng till b√∂cker och l√§sning har en avg√∂rande betydelse f√∂r elevernas spr√•kutveckling'},
{id:'GEN03-6',cat:'positionsschema',label:'2) Positionsschema ‚Äì 4 bisatser',instr:'S√§tt fyra bisatser i positionsschema.',type:'schema',hints:'att|de|ofta|k√§nner|‚àÖ|sig ensamma|i sitt arbete; eftersom|de|s√§llan|har|‚àÖ|kollegor|‚àÖ; som|‚àÖ|‚àÖ|f√∂rst√•r|‚àÖ|deras uppdrag|‚àÖ; att|skolledningen|inte|prioriterar|‚àÖ|biblioteket|‚àÖ'},
{id:'GEN03-7',cat:'subjekt_finit',label:'3) Subjekt & finit verb',instr:'Ange subjekt och finit verb per sats.',type:'textarea',hints:'HS: Bibliotekarierna + ber√§ttar; BS: de + k√§nner; BS: de + har; BS: som (kollegor) + f√∂rst√•r; HS: M√•nga + upplever; BS: skolledningen + prioriterar; BS: forskningen + visar; BS: tillg√•ng + har'}
]},
del3:{title:'',pts:0,question:null}
},

{id:'GEN04',date:'Genererad 4',location:'√ñvning',generated:true,maxPts:100,
del1:{title:'Forml√§ra',pts:56,
text1:{label:'TEXT 1',content:'Under de senaste √•ren har intresset f√∂r utomhuspedagogik vuxit markant bland svenska l√§rare. Forskningen pekar p√• att undervisning utomhus kan st√§rka elevernas koncentration och motivation. Flera kommuner har redan inf√∂rt schemalagda utomhuslektioner d√§r barnen l√§r sig matematik och naturvetenskap genom praktiska √∂vningar i naturen.'},
questions:[
{id:'GEN04-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv.',type:'textarea',hints:'√•ren, intresset, utomhuspedagogik, l√§rare, forskningen, undervisning, koncentration, motivation, kommuner, utomhuslektioner, barnen, matematik, naturvetenskap, √∂vningar, naturen'},
{id:'GEN04-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'√•ren=best plur, intresset=best sing, utomhuspedagogik=obest sing, l√§rare=obest plur, forskningen=best sing, undervisning=obest sing, koncentration=obest sing, motivation=obest sing, kommuner=obest plur, utomhuslektioner=obest plur'},
{id:'GEN04-2a',cat:'verb',label:'2a) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'har, vuxit, pekar, kan, st√§rka, har, inf√∂rt, l√§r, sig'},
{id:'GEN04-2b',cat:'verb',label:'2b) Verb ‚Äì tempus',instr:'Ange tv√• tempus med exempel.',type:'textarea',hints:'Presens: pekar, kan, l√§r. Perfekt: har vuxit, har inf√∂rt.'},
{id:'GEN04-3',cat:'pronomen',label:'3) Pronomen ‚Äì ta ut 4',instr:'Skriv fyra olika pronomen.',type:'textarea',hints:'de (demonstrativt), sig, som, d√§r'},
{id:'GEN04-4',cat:'adjektiv',label:'4) Adjektiv ‚Äì ta ut 4',instr:'Skriv fyra olika adjektiv.',type:'textarea',hints:'senaste, markant, svenska, schemalagda, praktiska'},
{id:'GEN04-5',cat:'morfemanalys',label:'5) Morfemanalys',instr:'G√∂r en morfemanalys av: "Flera kommuner har redan inf√∂rt schemalagda utomhuslektioner"',type:'textarea',hints:'Fler-a=rot+b√∂jn, kommun-er=rot+b√∂jn, har=rot, redan=rot, in-f√∂r-t=prefix+rot+b√∂jn(supinum), schema-lag-d-a=rot+rot+b√∂jn+b√∂jn, utom-hus-lekt-ion-er=prefix+rot+rot+avledn+b√∂jn'}
]},
del2:{title:'Satsl√§ra',pts:34,
text2:{label:'TEXT 2',content:'Eleverna trivs b√§st n√§r de f√•r vara ute och l√§rarna m√§rker att barnen som deltar i utomhuslektioner ofta visar st√∂rre engagemang. Rektorn som ledde projektet ber√§ttar att resultaten √∂vertr√§ffade f√∂rv√§ntningarna och att fler skolor nu vill ansluta sig till programmet.'},
questions:[
{id:'GEN04-6',cat:'bisatser',label:'1) Bisatser ‚Äì ta ut 8',instr:'Ta ut alla bisatser (max 8).',type:'textarea',hints:'n√§r de f√•r vara ute; att barnen som deltar i utomhuslektioner ofta visar st√∂rre engagemang; som deltar i utomhuslektioner; som ledde projektet; att resultaten √∂vertr√§ffade f√∂rv√§ntningarna; att fler skolor nu vill ansluta sig till programmet'},
{id:'GEN04-7',cat:'subjekt_finit',label:'2) Subjekt & finit verb',instr:'Ange subjekt och finit verb per sats.',type:'textarea',hints:'HS: Eleverna + trivs; BS: de + f√•r; HS: l√§rarna + m√§rker; BS: barnen + visar; BS: som (barnen) + deltar; HS: Rektorn + ber√§ttar; BS: som (rektorn) + ledde; BS: resultaten + √∂vertr√§ffade; BS: fler skolor + vill'}
]},
del3:{title:'Grammatikdidaktik',pts:10,
question:{id:'GEN04-8',cat:'didaktik',label:'3) Adverb ‚Äì didaktik',instr:'F√∂rklara pedagogiskt f√∂r elever i √•r 2 vad adverb √§r. G√∂r en √∂vning. Minst 70 ord.',type:'textarea_long',minWords:70,hints:'Definition, exempel (snabbt, h√§r, inte, alltid), √∂vning √•k 2'}}
},

{id:'GEN05',date:'Genererad 5',location:'√ñvning',generated:true,maxPts:100,
del1:{title:'Forml√§ra',pts:54,
text1:{label:'TEXT 1',content:'Allt fler skolor inf√∂r digitala verktyg i undervisningen redan fr√•n f√∂rskoleklass. Eleverna anv√§nder surfplattor och datorer f√∂r att tr√§na l√§sning och skrivning med hj√§lp av anpassade appar. Kritikerna varnar dock f√∂r att sk√§rmtiden √∂kar p√• bekostnad av handskrivning och fysisk aktivitet. Debatten om digitaliseringens roll i skolan √§r l√•ngt ifr√•n avslutad.'},
questions:[
{id:'GEN05-1a',cat:'substantiv',label:'1a) Substantiv ‚Äì ta ut 10',instr:'Ta ut 10 olika substantiv.',type:'textarea',hints:'skolor, verktyg, undervisningen, f√∂rskoleklass, eleverna, surfplattor, datorer, l√§sning, skrivning, hj√§lp, appar, kritikerna, sk√§rmtiden, bekostnad, handskrivning, aktivitet, debatten, roll, skolan'},
{id:'GEN05-1b',cat:'substantiv',label:'1b) Substantiv ‚Äì form',instr:'Best√§md/obest√§md och singular/plural.',type:'textarea',hints:'skolor=obest plur, verktyg=obest plur, undervisningen=best sing, f√∂rskoleklass=obest sing, eleverna=best plur, surfplattor=obest plur, datorer=obest plur, l√§sning=obest sing, skrivning=obest sing, hj√§lp=obest sing'},
{id:'GEN05-1c',cat:'verb',label:'1c) Verb ‚Äì ta ut',instr:'Ta ut samtliga verb.',type:'textarea',hints:'inf√∂r, anv√§nder, tr√§na, varnar, √∂kar, √§r, avslutad'},
{id:'GEN05-1d',cat:'verb',label:'1d) Verb ‚Äì tempus',instr:'Ange tv√• tempus med exempel.',type:'textarea',hints:'Presens: inf√∂r, anv√§nder, varnar, √∂kar, √§r. Infinitiv: tr√§na.'},
{id:'GEN05-1e',cat:'preposition',label:'1e) Prepositioner ‚Äì ta ut 4',instr:'Skriv fyra prepositioner.',type:'textarea',hints:'i, fr√•n, f√∂r, med, av, p√•, om'},
{id:'GEN05-1g',cat:'morfemanalys',label:'1f) Morfemanalys',instr:'G√∂r en morfemanalys av: "Debatten om digitaliseringens roll i skolan √§r l√•ngt ifr√•n avslutad"',type:'textarea',hints:'Debatt-en=rot+b√∂jn, om=rot, digital-iser-ing-en-s=rot+avledn+avledn+b√∂jn+b√∂jn(genitiv), roll=rot, i=rot, skol-an=rot+b√∂jn, √§r=rot, l√•ng-t=rot+b√∂jn, ifr√•n=rot, av-slut-ad=prefix+rot+b√∂jn(particip)'}
]},
del2:{title:'Satsl√§ra',pts:36,
text2:{label:'TEXT 2',content:'L√§rarna upplever att tekniken ibland kr√•nglar och att de saknar fortbildning som ger dem trygghet i att anv√§nda verktygen. Samtidigt finns det elever som blomstrar med de digitala hj√§lpmedlen, s√§rskilt de som har l√§s- och skrivsv√•righeter. Skolchefen understryker att kommunen ska investera i kompetensutveckling s√• att alla l√§rare k√§nner sig rustade.'},
questions:[
{id:'GEN05-5',cat:'bisatser',label:'1) Bisatser',instr:'Ta ut samtliga bisatser.',type:'textarea',hints:'att tekniken ibland kr√•nglar; att de saknar fortbildning; som ger dem trygghet; som blomstrar med de digitala hj√§lpmedlen; som har l√§s- och skrivsv√•righeter; att kommunen ska investera i kompetensutveckling; s√• att alla l√§rare k√§nner sig rustade'},
{id:'GEN05-6',cat:'positionsschema',label:'2) Positionsschema ‚Äì 3 bisatser',instr:'S√§tt tre bisatser i positionsschema.',type:'schema',hints:'att|tekniken|ibland|kr√•nglar|‚àÖ|‚àÖ|‚àÖ; som|‚àÖ|‚àÖ|ger|‚àÖ|dem trygghet|‚àÖ; att|kommunen|‚àÖ|ska|investera|‚àÖ|i kompetensutveckling'},
{id:'GEN05-7',cat:'subjekt_finit',label:'3) Subjekt & finit verb',instr:'Ange subjekt och finit verb per sats.',type:'textarea',hints:'HS: L√§rarna + upplever; BS: tekniken + kr√•nglar; BS: de + saknar; BS: som (fortbildning) + ger; HS: det + finns; BS: som (elever) + blomstrar; BS: som (de) + har; HS: Skolchefen + understryker; BS: kommunen + ska; BS: alla l√§rare + k√§nner'}
]},
del3:{title:'Grammatikdidaktik',pts:10,
question:{id:'GEN05-3',cat:'didaktik',label:'3) Grammatik i klassrummet',instr:'Beskriv hur du l√§gger upp grammatikundervisning. V√§lj F/1/2/3. Minst 150 ord.',type:'textarea_long',minWords:150,hints:'√Örskurs, lektionsuppl√§gg, √∂vningar, pedagogisk metod'}}
}
];

// ---- CATEGORY LABELS ----
const CATS = {
substantiv:{label:'Substantiv',icon:'S'},verb:{label:'Verb',icon:'V'},pronomen:{label:'Pronomen',icon:'P'},
adjektiv:{label:'Adjektiv',icon:'A'},preposition:{label:'Prepositioner',icon:'Pr'},
morfemanalys:{label:'Morfemanalys',icon:'M'},bisatser:{label:'Bisatser',icon:'Bs'},
positionsschema:{label:'Positionsschema',icon:'Ps'},subjekt_finit:{label:'Subjekt & finit verb',icon:'SF'},
didaktik:{label:'Didaktik',icon:'D'}
};

// ---- STUDY GUIDE DATA ----
const STUDY = [
{id:'fonem-grafem',ch:'1. Grundl√§ggande begrepp',title:'1.1 Fonem och grafem',content:[
{t:'p',v:'<strong>Fonem</strong> = det minsta ljudet i spr√•ket som kan skilja ord √•t. Om du byter ut ett ljud och f√•r ett nytt ord, s√• √§r det tv√• olika fonem.'},
{t:'p',v:'<em>Exempel:</em> <strong>bil</strong> och <strong>pil</strong> ‚Äì skillnaden √§r bara f√∂rsta ljudet (/b/ vs /p/), s√• /b/ och /p/ √§r tv√• olika fonem.'},
{t:'p',v:'<strong>Grafem</strong> = den minsta skrivna enheten (bokstav eller bokstavskombination) som motsvarar ett fonem.'},
{t:'p',v:'<em>Exempel:</em> I ordet <strong>sj√∂</strong> stavas ljudet /…ï/ med tv√• bokst√§ver: <strong>sj</strong>. D√• √§r <em>sj</em> ett grafem.'},
{t:'tip',v:'Fonem = ljud (det du <strong>H√ñR</strong>). Grafem = bokst√§ver (det du <strong>SER</strong>). Svenska har ca 18 vokalfonem och 18 konsonantfonem men bara 29 bokst√§ver ‚Äì d√§rf√∂r beh√∂vs ibland flera bokst√§ver f√∂r ett ljud (som sj, tj, ng).'},
{t:'exam',v:'Du kan f√• en fr√•ga som: "Hur m√•nga fonem respektive grafem har ordet X?" R√§kna ljuden (fonem) och de skrivna enheterna (grafem) var f√∂r sig.<br><em>Exempel:</em> skog = 4 fonem (/s/, /k/, /≈´/, /g/) och 4 grafem (s, k, o, g).'}
],quiz:[
{q:'Hur m√•nga fonem har ordet "sjuk"?',opts:['2','3','4','5'],ans:1,expl:'"sj" = /…ï/ (ett ljud), "u" = / âÀê/, "k" = /k/ ‚Üí 3 fonem.'},
{q:'Hur m√•nga grafem har ordet "ljus"?',opts:['3','4','5','2'],ans:1,expl:'l, j, u, s = 4 grafem (trots att "lj" uttalas som ett ljud /j/).'}
]},

{id:'morfem',ch:'1. Grundl√§ggande begrepp',title:'1.2 Morfem ‚Äì ordens byggstenar',content:[
{t:'p',v:'Ett <strong>morfem</strong> √§r den minsta spr√•kliga enheten som har en betydelse eller grammatisk funktion.'},
{t:'table',headers:['Typ av morfem','F√∂rklaring','Exempel'],rows:[
['Rotmorfem (lexikalt)','Sj√§lva "k√§rnan" ‚Äì b√§r grundbetydelsen','<strong>hus</strong> i hus-et'],
['Prefix','L√§ggs FRAMF√ñR roten ‚Äì √§ndrar betydelsen','<strong>o-</strong> i o-van-lig'],
['Suffix','L√§ggs EFTER roten','<strong>-lig</strong> i ovan-lig'],
['B√∂jningsmorfem','Visar grammatik (tempus, numerus etc.)','<strong>-ar</strong> i hund-ar'],
['Avledningsmorfem','√Ñndrar ordklass eller grundbetydelse','<strong>-het</strong> i fri-het (adj ‚Üí subst)']]},
{t:'tip',v:'Fr√•ga dig: "Kan jag dela upp det h√§r ordet i mindre bitar som fortfarande betyder n√•got?" Varje bit som har en egen betydelse eller funktion √§r ett morfem.<br><em>o-lyck-lig-a</em> = 4 morfem (o + lyck + lig + a).'},
{t:'exam',v:'Morfemanalys fr√•gas n√§stan <strong>varje g√•ng</strong>! Du f√•r en mening och ska dela upp orden i morfem. Kunna skilja p√• b√∂jningsmorfem och avledningsmorfem.'}
],quiz:[
{q:'Hur m√•nga morfem har ordet "olyckliga"?',opts:['2','3','4','5'],ans:2,expl:'o- (prefix) + lyck (rot) + -lig (avledning) + -a (b√∂jning) = 4 morfem.'},
{q:'Vilken typ av morfem √§r "-er" i "hund-ar"?',opts:['Rotmorfem','Avledningsmorfem','B√∂jningsmorfem','Prefix'],ans:2,expl:'"-ar" visar plural (grammatisk funktion) = b√∂jningsmorfem.'}
]},

{id:'substantiv',ch:'2. Ordklasserna',title:'2.1 Substantiv',content:[
{t:'p',v:'Substantiv √§r namn p√• saker, personer, platser, djur och f√∂reteelser.'},
{t:'tip',v:'Kan du s√§tta <strong>en</strong> eller <strong>ett</strong> framf√∂r ordet? D√• √§r det ett substantiv!<br><em>en stol, ett bord, en k√§nsla, ett beslut</em> ‚Äì alla √§r substantiv.'},
{t:'p',v:'Substantiv b√∂js i: <strong>numerus</strong> (singularis/pluralis) och <strong>species</strong> (obest√§md/best√§md form).'},
{t:'table',headers:['','Obest√§md','Best√§md'],rows:[['Singular','en flicka','flickan'],['Plural','flickor','flickorna']]},
{t:'p',v:'<strong>Deklinationer</strong> (substantivets b√∂jningsm√∂nster i plural):'},
{t:'table',headers:['Dekl.','Plural√§ndelse','Typiskt genus','Exempel'],rows:[
['1','-or','en-ord p√• -a','flicka ‚Üí flickor'],
['2','-ar','en-ord','bil ‚Üí bilar'],
['3','-er','en-/ett-ord','telefon ‚Üí telefoner'],
['4','-n','ett-ord p√• vokal','√§pple ‚Üí √§pplen'],
['5','ingen √§ndelse','en-/ett-ord','l√§rare ‚Üí l√§rare']]},
{t:'exam',v:'Du kan f√• fr√•gan: "Vilken deklination tillh√∂r ordet X?" Titta p√• plural√§ndelsen! Ocks√• fr√•gor om genus (en/ett) och species (best√§md/obest√§md).'}
],quiz:[
{q:'Vilken deklination tillh√∂r "lampa"?',opts:['Dekl 1','Dekl 2','Dekl 3','Dekl 5'],ans:0,expl:'lampa ‚Üí lampor (-or) = deklination 1 (en-ord p√• -a).'},
{q:'St√•r "eleverna" i best√§md eller obest√§md form?',opts:['Obest√§md','Best√§md'],ans:1,expl:'"eleverna" = best√§md form plural (elev ‚Üí elever ‚Üí eleverna).'},
{q:'Vilken deklination tillh√∂r "√§pple"?',opts:['Dekl 1','Dekl 2','Dekl 4','Dekl 5'],ans:2,expl:'√§pple ‚Üí √§pplen (-n) = deklination 4 (ett-ord p√• vokal).'}
]},

{id:'verb',ch:'2. Ordklasserna',title:'2.2 Verb',content:[
{t:'p',v:'Verb √§r "g√∂ra-ord" ‚Äì de beskriver handlingar, tillst√•nd eller skeenden.'},
{t:'tip',v:'Kan du s√§tta <strong>jag/vi/han</strong> framf√∂r ordet och det l√•ter r√§tt? D√• √§r det troligen ett verb.<br><em>Jag springer, han sover, vi √§ter.</em>'},
{t:'p',v:'<strong>Tempus</strong> (tidsformer):'},
{t:'table',headers:['Tempus','Anv√§nds f√∂r','Exempel'],rows:[
['Presens','Nu / allm√§nna sanningar','jag springer'],
['Preteritum','D√•tid (ber√§ttande)','jag sprang'],
['Perfekt','Avslutad handling med koppling till nu','jag har sprungit'],
['Pluskvamperfekt','Avslutad handling f√∂re annan d√•tid','jag hade sprungit'],
['Futurum','Framtid','jag ska springa'],
['Imperativ','Uppmaning','spring!'],
['Infinitiv','Grundform (att + verb)','att springa'],
['Supinum','Anv√§nds med har/hade','har sprungit']]},
{t:'p',v:'<strong>Konjugationer</strong> (verbets b√∂jningsgrupper):'},
{t:'table',headers:['Konj.','Infinitiv','Presens','Preteritum','Supinum','K√§nnetecken'],rows:[
['1','tala','talar','talade','talat','Slutar p√• -ar i presens'],
['2a','ringa','ringer','ringde','ringt','Slutar p√• -er, pret. -de'],
['2b','k√∂pa','k√∂per','k√∂pte','k√∂pt','Slutar p√• -er, pret. -te'],
['3','bo','bor','bodde','bott','Kort vokalstam'],
['4','skriva','skriver','skrev','skrivit','Starka verb ‚Äì vokal√§ndring!']]},
{t:'tip',v:'S√§tt verbet i presens: Slutar det p√• <strong>-ar</strong>? ‚Üí Konj 1. P√• <strong>-er</strong>? ‚Üí Konj 2. Kort (<strong>-r</strong> direkt efter vokal)? ‚Üí Konj 3. √Ñndras vokalen? ‚Üí Konj 4 (starkt verb).'},
{t:'exam',v:'B√∂j ett verb i alla tempus och/eller best√§m konjugation. Ocks√• vanligt: best√§m tempus p√• verb i en mening.'}
],quiz:[
{q:'Vilken konjugation tillh√∂r "hoppa"?',opts:['Konj 1','Konj 2a','Konj 3','Konj 4'],ans:0,expl:'hoppa ‚Üí hoppar (-ar i presens) = konjugation 1.'},
{q:'Vilket tempus √§r "har sprungit"?',opts:['Preteritum','Presens','Perfekt','Supinum'],ans:2,expl:'har + supinum = perfekt.'},
{q:'Vilken konjugation tillh√∂r "skriva"?',opts:['Konj 1','Konj 2b','Konj 3','Konj 4'],ans:3,expl:'skriva ‚Üí skrev (vokal√§ndring) = konjugation 4 (starkt verb).'}
]},

{id:'adjektiv',ch:'2. Ordklasserna',title:'2.3 Adjektiv',content:[
{t:'p',v:'Adjektiv beskriver egenskaper hos substantiv.'},
{t:'tip',v:'Kan du s√§tta <strong>mycket</strong> framf√∂r ordet? Och beskriver det hur n√•got <em>√§r</em>? D√• √§r det ett adjektiv.<br><em>Mycket stor, mycket vacker, mycket intressant.</em>'},
{t:'table',headers:['Form','N√§r','Exempel'],rows:[['Grundform (en-ord)','en + adj + subst','en stor bil'],['Neutrum (ett-ord)','ett + adj + subst','ett stort hus'],['Plural / best√§md','flera / den/det/de','stora bilar / den stora bilen']]},
{t:'p',v:'<strong>Komparation</strong> (j√§mf√∂relseformer):'},
{t:'table',headers:['Grad','F√∂rklaring','Regelbunden','Oregelbunden'],rows:[['Positiv','Grundform','stor','bra'],['Komparativ','J√§mf√∂r tv√•','st√∂rre','b√§ttre'],['Superlativ','Den mest av alla','st√∂rst','b√§st']]},
{t:'p',v:'Vissa adjektiv kompareras med <em>mer/mest</em>: mer intressant, mest intressant.'}
],quiz:[
{q:'Vilken form har adjektivet i "ett stort hus"?',opts:['Grundform','Neutrum','Plural','Best√§md'],ans:1,expl:'ett-ord ‚Üí adjektivet f√•r -t √§ndelse = neutrumform.'}
]},

{id:'pronomen',ch:'2. Ordklasserna',title:'2.4 Pronomen',content:[
{t:'p',v:'Pronomen √§r ord som ers√§tter eller syftar tillbaka p√• substantiv.'},
{t:'tip',v:'Pronomen √§r "ist√§llet-f√∂r-namn"-ord. Ist√§llet f√∂r att s√§ga "Anna gick till Annas bil" s√§ger vi "<strong>Hon</strong> gick till <strong>sin</strong> bil."'},
{t:'table',headers:['Typ','F√∂rklaring','Exempel'],rows:[
['Personliga','Syftar p√• personer','jag, du, han, hon, vi, de'],
['Possessiva','Visar √§gande','min, din, hans, hennes, sin'],
['Reflexiva','Syftar tillbaka p√• subjektet','sig, mig, dig'],
['Demonstrativa','Pekar ut','den h√§r, det d√§r, denna'],
['Interrogativa','Fr√•gar','vem, vad, vilken'],
['Relativa','Inleder bisats','som, vilken, vars'],
['Indefinita','Obest√§mt','n√•gon, ingen, alla, man']]},
{t:'exam',v:'Best√§m ordklass p√• ord som <em>den, det, denna, sig, man, som</em> ‚Äì alla √§r pronomen! Ocks√• vanligt: "vad √§r skillnaden mellan sin/hans?"'}
],quiz:[
{q:'Vilken typ av pronomen √§r "sig"?',opts:['Personligt','Possessivt','Reflexivt','Demonstrativt'],ans:2,expl:'"sig" syftar tillbaka p√• subjektet = reflexivt pronomen.'},
{q:'Vilken typ av pronomen √§r "som" i "boken som jag l√§ste"?',opts:['Personligt','Relativt','Indefinit','Interrogativt'],ans:1,expl:'"som" inleder en bisats och syftar tillbaka = relativt pronomen.'}
]},

{id:'adverb',ch:'2. Ordklasserna',title:'2.5 Adverb',content:[
{t:'p',v:'Adverb beskriver <strong>n√§r</strong>, <strong>var</strong>, <strong>hur</strong> eller <strong>i vilken grad</strong> n√•got h√§nder. De modifierar verb, adjektiv eller andra adverb.'},
{t:'tip',v:'Adverb svarar p√•: <strong>N√§r?</strong> (ig√•r, snart) <strong>Var?</strong> (h√§r, hemma) <strong>Hur?</strong> (snabbt, tyst) <strong>Hur mycket?</strong> (mycket, ganska). M√•nga adverb slutar p√• <strong>-t</strong> (snabb‚Üísnabbt).'},
{t:'p',v:'<strong>Satsadverb</strong> √§r s√§rskilt viktiga ‚Äì de s√§ger n√•got om hela satsen:<br><em>inte, kanske, nog, ju, v√§l, faktiskt, aldrig, alltid, redan, ofta</em>'},
{t:'exam',v:'Satsadverbial (s√§rskilt <em>inte, aldrig, alltid</em>) √§r viktiga b√•de som ordklass (adverb) OCH som satsdel (satsadverbial). Placeringen i huvudsats vs bisats skiljer sig!'}
],quiz:[
{q:'Vilket av dessa √§r ett satsadverb?',opts:['snabbt','h√§r','inte','ig√•r'],ans:2,expl:'"inte" √§r ett satsadverb ‚Äì det s√§ger n√•got om hela satsen.'}
]},

{id:'prepositioner',ch:'2. Ordklasserna',title:'2.6 Prepositioner',content:[
{t:'p',v:'Prepositioner √§r sm√• ord som visar f√∂rh√•llanden ‚Äì ofta plats, tid eller riktning.'},
{t:'tip',v:'Prepositioner st√•r (n√§stan) alltid <strong>framf√∂r</strong> ett substantiv eller pronomen. De "styr" ett annat ord.<br><em>p√• bordet, i skolan, till parken, med dig, under bron.</em>'},
{t:'p',v:'<strong>Vanliga prepositioner:</strong> i, p√•, till, fr√•n, med, av, f√∂r, under, √∂ver, vid, om, efter, mot, genom, mellan, utan, hos, bakom'}
],quiz:[
{q:'Vilken ordklass √§r "p√•" i "p√• bordet"?',opts:['Adverb','Konjunktion','Preposition','Subjunktion'],ans:2,expl:'"p√•" st√•r framf√∂r ett substantiv (bordet) = preposition.'}
]},

{id:'konj-subj',ch:'2. Ordklasserna',title:'2.7 Konjunktioner och subjunktioner',content:[
{t:'table',headers:['Typ','Vad g√∂r de?','Exempel'],rows:[
['Konjunktioner','Binder samman likv√§rdiga delar','och, men, eller, f√∂r, s√•'],
['Subjunktioner','Inleder en BISATS (g√∂r satsen underordnad)','att, om, n√§r, eftersom, d√•, medan, fast√§n, innan, f√∂r att']]},
{t:'tip',v:'<strong>Konjunktion</strong> = b√•da sidor kan st√• ensamma. "Jag sprang <strong>och</strong> hon cyklade."<br><strong>Subjunktion</strong> = det som f√∂ljer BEH√ñVER en huvudsats. "<strong>Eftersom</strong> det regnade" √§r inte en hel mening.'},
{t:'exam',v:'Skillnaden mellan konjunktioner och subjunktioner fr√•gas p√• i princip <strong>VARJE tenta</strong>! L√§r dig utantill: konjunktioner = <strong>och, men, eller, f√∂r, s√•</strong>. Resten som inleder bisatser √§r subjunktioner.'}
],quiz:[
{q:'√Ñr "eftersom" en konjunktion eller subjunktion?',opts:['Konjunktion','Subjunktion'],ans:1,expl:'"eftersom" inleder en bisats = subjunktion.'},
{q:'√Ñr "och" en konjunktion eller subjunktion?',opts:['Konjunktion','Subjunktion'],ans:0,expl:'"och" binder samman likv√§rdiga delar = konjunktion.'},
{q:'√Ñr "att" en konjunktion eller subjunktion?',opts:['Konjunktion','Subjunktion'],ans:1,expl:'"att" inleder en bisats = subjunktion.'}
]},

{id:'ovriga',ch:'2. Ordklasserna',title:'2.8 √ñvriga ordklasser',content:[
{t:'p',v:'<strong>Artiklar</strong> ‚Äì best√§mmer substantivets form:<br>Obest√§mda: <em>en, ett</em>. Best√§mda: <em>den, det, de</em> (framf√∂r adjektiv + substantiv: <em>den stora bilen</em>).'},
{t:'p',v:'<strong>R√§kneord</strong> ‚Äì anger antal eller ordning:<br>Grundtal: <em>en, tv√•, tre, hundra</em>. Ordningstal: <em>f√∂rsta, andra, tredje</em>.'},
{t:'p',v:'<strong>Interjektioner</strong> ‚Äì k√§nsloutrop: <em>Aj! Hej! Oj! Tja!</em>'},
{t:'p',v:'<strong>Sammanfattning ‚Äì alla 10 ordklasser:</strong>'},
{t:'table',headers:['Ordklass','Fr√•ga/K√§nnetecken','Exempel','B√∂jbar?'],rows:[
['Substantiv','en/ett framf√∂r?','hund, skola','Ja'],
['Verb','jag/han framf√∂r?','springer, √§ter','Ja'],
['Adjektiv','mycket framf√∂r?','stor, vacker','Ja'],
['Pronomen','Ers√§tter substantiv?','jag, hon, sin','Ja (delvis)'],
['Adverb','Hur/n√§r/var?','snabbt, h√§r','Nej*'],
['Preposition','Framf√∂r subst/pron?','i, p√•, till','Nej'],
['Konjunktion','Binder likv√§rdiga delar?','och, men, eller','Nej'],
['Subjunktion','Inleder bisats?','att, om, eftersom','Nej'],
['Artikel','en/ett/den/det/de','en, ett, den','Nej'],
['R√§kneord','Antal/ordning?','tre, f√∂rsta','Delvis']]}
],quiz:[]},

{id:'subjekt',ch:'3. Satsl√§ra',title:'3.1 Subjekt',content:[
{t:'p',v:'Subjektet √§r den som utf√∂r handlingen eller den/det som meningen handlar om.'},
{t:'tip',v:'Fr√•ga: <strong>VEM</strong> eller <strong>VAD</strong> + predikatet?<br>"Katten sover." ‚Üí Vem sover? <strong>Katten</strong> = subjekt.'}
],quiz:[{q:'Vad √§r subjektet i "Mamma lagade mat"?',opts:['mat','lagade','Mamma'],ans:2,expl:'Vem lagade? ‚Üí Mamma = subjekt.'}]},

{id:'predikat',ch:'3. Satsl√§ra',title:'3.2 Predikat',content:[
{t:'p',v:'Predikatet √§r det finita (b√∂jda) verbet i satsen. Det ber√§ttar vad som h√§nder.'},
{t:'tip',v:'Predikatet √§r ALLTID ett verb i tempus (presens, preteritum etc.).<br>"Hon <strong>l√§ser</strong> en bok." ‚Üí l√§ser = predikat.'}
],quiz:[]},

{id:'objekt',ch:'3. Satsl√§ra',title:'3.3 Objekt',content:[
{t:'p',v:'Objektet √§r den/det som uts√§tts f√∂r handlingen.'},
{t:'p',v:'<strong>Direkt objekt</strong> ‚Äì den som p√•verkas direkt:<br>Hon l√§ser <strong>en bok</strong>. (L√§ser vad? En bok.)'},
{t:'p',v:'<strong>Indirekt objekt</strong> ‚Äì den som f√•r n√•got:<br>Hon gav <strong>mig</strong> en bok. (Gav till vem? Mig.)'},
{t:'tip',v:'Direkt objekt: VEM/VAD + subjekt + predikat?<br>Indirekt objekt: √ÖT VEM? / TILL VEM?'}
],quiz:[{q:'Vad √§r det direkta objektet i "Mamma gav barnen gl√∂gg"?',opts:['Mamma','barnen','gl√∂gg','gav'],ans:2,expl:'Gav vad? ‚Üí gl√∂gg = direkt objekt. (barnen = indirekt objekt)'}]},

{id:'adverbial',ch:'3. Satsl√§ra',title:'3.4 Adverbial',content:[
{t:'p',v:'Adverbial ber√§ttar <strong>n√§r</strong>, <strong>var</strong>, <strong>hur</strong>, <strong>varf√∂r</strong> n√•got h√§nder.'},
{t:'p',v:'<em>Hon l√§ser en bok <strong>p√• kv√§llen</strong></em>. (N√§r?)<br><em>Hon l√§ser en bok <strong>i soffan</strong></em>. (Var?)<br><em>Hon l√§ser <strong>tyst</strong> en bok</em>. (Hur?)'},
{t:'p',v:'<strong>Satsadverbial</strong> √§r en speciell typ som s√§ger n√•got om hela satsen:<br><em>Hon l√§ser <strong>inte</strong> en bok. / Hon l√§ser <strong>kanske</strong> en bok.</em>'},
{t:'exam',v:'Kunna skilja p√• vanliga adverbial och satsadverbial. Satsadverbialet placeras p√• <strong>OLIKA plats</strong> i huvudsats vs bisats!'}
],quiz:[]},

{id:'predikativ',ch:'3. Satsl√§ra',title:'3.5 Predikativ',content:[
{t:'p',v:'Predikativ beskriver subjektet via ett kopulaverb (vara, bli, verka, tyckas).'},
{t:'p',v:'<em>Hon √§r <strong>glad</strong>.</em> (glad = subjektspredikativ)<br><em>De valde honom till <strong>ordf√∂rande</strong>.</em> (ordf√∂rande = objektspredikativ)'}
],quiz:[]},

{id:'huvudsats-bisats',ch:'3. Satsl√§ra',title:'3.6 Huvudsats och bisats',content:[
{t:'p',v:'<strong>Huvudsats</strong> = kan st√• ensam som en fullst√§ndig mening.<br><strong>Bisats</strong> = kan INTE st√• ensam ‚Äì beh√∂ver en huvudsats.'},
{t:'p',v:'<strong>K√§nnetecken f√∂r bisatser:</strong><br>‚Ä¢ Inleds ofta av en subjunktion (att, om, n√§r, eftersom, medan...)<br>‚Ä¢ Inleds av ett relativt pronomen (som, vilken, vars)<br>‚Ä¢ Satsadverbialet (t.ex. <em>inte</em>) st√•r F√ñRE det finita verbet i bisatsen'},
{t:'table',headers:['','Ordning','Exempel'],rows:[['Huvudsats','Subjekt ‚Äì Verb ‚Äì Satsadv','Jag √§ter <strong>inte</strong> glass'],['Bisats','Subjekt ‚Äì Satsadv ‚Äì Verb','...att jag <strong>inte</strong> √§ter glass']]},
{t:'tip',v:'I huvudsatsen st√•r <em>inte</em> EFTER verbet: "Jag √§ter inte."<br>I bisatsen st√•r <em>inte</em> F√ñRE verbet: "...att jag inte √§ter."<br><strong>BIFF-regeln: Bisats ‚Äì Inte F√∂re Finita verbet!</strong>'},
{t:'exam',v:'Du f√•r ofta en mening och ska: 1) Hitta huvudsats och bisats. 2) Best√§mma typ av bisats. 3) F√∂rklara ordf√∂ljdsskillnaden. <strong>Satsadverbialets placering √§r nyckeln!</strong>'}
],quiz:[
{q:'Var st√•r "inte" i en bisats?',opts:['Efter det finita verbet','F√∂re det finita verbet','Sist i satsen'],ans:1,expl:'BIFF-regeln: i bisatsen st√•r satsadverbialet (inte) F√ñRE det finita verbet.'},
{q:'Vilken av dessa √§r en bisats?',opts:['"Jag sprang hem"','"eftersom det regnade"','"Det var kallt"'],ans:1,expl:'"eftersom" √§r en subjunktion som inleder en bisats. Den kan inte st√• ensam.'}
]},

{id:'ordbildning',ch:'4. Ordbildning',title:'4. Ordbildning',content:[
{t:'p',v:'Svenska skapar nya ord p√• tre s√§tt:'},
{t:'p',v:'<strong>4.1 Sammans√§ttning</strong> ‚Äì Tv√• eller flera ord s√§tts ihop: sol + sken = solsken. F√∂rleden modifierar efterleden. Efterleden best√§mmer ordklass. Ibland finns <strong>fogmorfem</strong>: barn-<strong>s</strong>-bok, skol-<strong>a</strong>-g√•rd.'},
{t:'p',v:'<strong>4.2 Avledning (derivation)</strong> ‚Äì Ett morfem l√§ggs till:'},
{t:'table',headers:['Process','Exempel','Ordklassbyte'],rows:[['Prefix: o-','vanlig ‚Üí ovanlig','adj ‚Üí adj'],['Suffix: -het','fri ‚Üí frihet','adj ‚Üí subst'],['Suffix: -lig','v√§n ‚Üí v√§nlig','subst ‚Üí adj'],['Suffix: -tion','informera ‚Üí information','verb ‚Üí subst']]},
{t:'p',v:'<strong>4.3 Konvertering</strong> ‚Äì Ordklass byts utan till√§gg:<br><em>att fiska</em> (verb) ‚Üí <em>ett fiske</em> (substantiv)'}
],quiz:[]},

{id:'fonetik',ch:'5. Fonetik',title:'5. Fonetik',content:[
{t:'p',v:'<strong>Vokaler</strong> = ljud d√§r luften fl√∂dar fritt (a, e, i, o, u, y, √•, √§, √∂).<br><strong>Konsonanter</strong> = ljud d√§r luftstr√∂mmen hindras.'},
{t:'p',v:'Vokaler kan vara l√•nga eller korta:<br>L√•ng vokal: <strong>mat</strong> (/mƒÅt/) ‚Äì Kort vokal: <strong>matt</strong> (/mat/)'},
{t:'tip',v:'I svenska g√§ller: <strong>l√•ng vokal + kort konsonant</strong> ELLER <strong>kort vokal + l√•ng konsonant</strong>. D√§rf√∂r dubbeltecknas konsonanten n√§r vokalen √§r kort: <em>mat</em> vs <em>matt</em>.'}
],quiz:[]},

{id:'ovningsfragor',ch:'7. √ñvningsfr√•gor',title:'7. √ñvningsfr√•gor inf√∂r tentan',content:[
{t:'p',v:'Dessa fr√•gor liknar dem du kan f√• p√• tentan. Klicka "Visa facit" f√∂r att se svaren.'}
],quiz:[
{q:'Best√§m ordklass: "Den lilla katten sov lugnt p√• soffan ig√•r." ‚Äì Vad √§r "lilla"?',opts:['Substantiv','Adverb','Adjektiv','Pronomen'],ans:2,expl:'lilla = adjektiv (beskriver katten).'},
{q:'I samma mening: vad √§r "p√•"?',opts:['Adverb','Konjunktion','Preposition','Subjunktion'],ans:2,expl:'p√• = preposition (st√•r framf√∂r substantivet soffan).'},
{q:'Vilken satsdel √§r "Mamma" i "Mamma gav barnen gl√∂gg p√• juldagen"?',opts:['Objekt','Predikat','Adverbial','Subjekt'],ans:3,expl:'Vem gav? ‚Üí Mamma = subjekt.'},
{q:'Vilken satsdel √§r "barnen" i samma mening?',opts:['Direkt objekt','Indirekt objekt','Subjekt','Adverbial'],ans:1,expl:'Gav till vem? ‚Üí barnen = indirekt objekt. (gl√∂gg = direkt objekt)'},
{q:'Hur m√•nga morfem har "barnb√∂cker"?',opts:['2','3','4'],ans:1,expl:'barn (rot) + b√∂ck (rot) + -er (b√∂jning) = 3 morfem (sammansatt ord).'},
{q:'Konjunktion eller subjunktion? "Jag sprang och hon cyklade" ‚Äì "och"?',opts:['Konjunktion','Subjunktion'],ans:0,expl:'och = konjunktion (binder tv√• likv√§rdiga huvudsatser).'},
{q:'Konjunktion eller subjunktion? "Vi gick hem eftersom det blev m√∂rkt" ‚Äì "eftersom"?',opts:['Konjunktion','Subjunktion'],ans:1,expl:'eftersom = subjunktion (inleder bisats).'},
{q:'Vilken deklination tillh√∂r "pojke"?',opts:['Dekl 1','Dekl 2','Dekl 3','Dekl 5'],ans:1,expl:'pojke ‚Üí pojkar (-ar) = deklination 2.'}
]}
];

// ---- IndexedDB ----
const DB={
 open(){return new Promise((res,rej)=>{const r=indexedDB.open('sva044',1);r.onupgradeneeded=e=>{const db=e.target.result;if(!db.objectStoreNames.contains('s'))db.createObjectStore('s')};r.onsuccess=e=>res(e.target.result);r.onerror=e=>rej(e.target.error)})},
 async get(k){const db=await this.open();return new Promise(r=>{const t=db.transaction('s','readonly');const q=t.objectStore('s').get(k);q.onsuccess=()=>r(q.result||null);q.onerror=()=>r(null)})},
 async set(k,v){const db=await this.open();const t=db.transaction('s','readwrite');t.objectStore('s').put(v,k)},
 async del(k){const db=await this.open();const t=db.transaction('s','readwrite');t.objectStore('s').delete(k)}
};

// ---- STATE ----
const S={
 tab:'hem',exam:null,mode:'full',cat:null,answers:{},progress:{},
 load(){try{const d=JSON.parse(localStorage.getItem('sva044s')||'{}');Object.assign(S,{answers:d.answers||{},progress:d.progress||{}})}catch(e){}},
 save(){localStorage.setItem('sva044s',JSON.stringify({answers:S.answers,progress:S.progress}))}
};

// ---- HELPERS ----
const $=id=>document.getElementById(id);
const h=s=>{const d=document.createElement('div');d.textContent=s;return d.innerHTML};
function el(tag,cls,html){const e=document.createElement(tag);if(cls)e.className=cls;if(html!==undefined)e.innerHTML=html;return e}
function wordCount(s){return s.trim()?s.trim().split(/\s+/).length:0}

// ---- RENDER FUNCTIONS ----
function renderHome(){
 const t=$('tab-hem');
 const nExams=Object.keys(S.answers).length;
 const nStudy=Object.keys(S.progress).filter(k=>S.progress[k]).length;
 t.innerHTML=`
  <div style="text-align:center;padding:2rem 0 1rem">
   <h1 style="font-size:2rem;margin-bottom:.5rem">SVA044 ‚Äì Grammatik & Tenta√∂vning</h1>
   <p style="color:var(--text2);max-width:600px;margin:0 auto">Interaktivt studieverktyg f√∂r <em>Svenska f√∂r grundl√§rare F‚Äì3</em> vid M√§lardalens universitet. √ñva p√• gamla tentor, testa dig med AI-r√§ttning och plugga grammatik.</p>
  </div>
  <div class="stats-grid">
   <div class="stat-card"><div class="stat-num">${EXAMS.length}</div><div class="stat-label">Tentor tillg√§ngliga</div></div>
   <div class="stat-card"><div class="stat-num">${nExams}</div><div class="stat-label">Tentor p√•b√∂rjade</div></div>
   <div class="stat-card"><div class="stat-num">${STUDY.length}</div><div class="stat-label">Studiekapitel</div></div>
   <div class="stat-card"><div class="stat-num">${nStudy}</div><div class="stat-label">Quiz avklarade</div></div>
  </div>
  <div class="quick-grid">
   <div class="quick-card" onclick="switchTab('ovning')"><div class="quick-card-icon">üìù</div><h3>Tenta√∂vning</h3><p>√ñva p√• hela tentor eller v√§lj delfr√•gor</p></div>
   <div class="quick-card" onclick="switchTab('tentatest')"><div class="quick-card-icon">ü§ñ</div><h3>Tentatest</h3><p>F√• din tenta r√§ttad av AI med feedback</p></div>
   <div class="quick-card" onclick="switchTab('plugga')"><div class="quick-card-icon">üìñ</div><h3>Plugga inf√∂r tentan</h3><p>Interaktivt kompendium med quiz</p></div>
   <div class="quick-card" onclick="switchTab('settings')"><div class="quick-card-icon">‚öôÔ∏è</div><h3>Inst√§llningar</h3><p>API-nyckel och andra inst√§llningar</p></div>
  </div>`;
}

function renderExamSelector(containerId,onSelect){
 const c=$(containerId);
 let html='<div class="exam-grid">';
 EXAMS.forEach(ex=>{
  const cls=S.exam===ex.id?'exam-card active':'exam-card'+(ex.generated?' generated':'');
  html+=`<div class="${cls}" onclick="selectExam('${ex.id}','${containerId}')"><div class="exam-card-date">${ex.generated?ex.date:ex.date}</div><div class="exam-card-sub">${ex.location}</div></div>`;
 });
 html+='</div>';
 return html;
}

function selectExam(id,ctx){
 S.exam=id;
 if(ctx==='tentatest-exams')renderTentatest();
 else renderOvning();
}

function renderQuestion(q,examId){
 const aid=examId+'-'+q.id;
 const val=S.answers[aid]||'';
 let input='';
 if(q.type==='schema'){
  const cols=['Bisatsinledare','Subjekt','Satsadverbial','Finit verb','Infinit verb','Objekt/Pred.','Adverbial'];
  input=`<div class="schema-wrap"><table class="schema-tbl"><tr>${cols.map(c=>'<th>'+c+'</th>').join('')}</tr>`;
  for(let r=0;r<4;r++){
   input+='<tr>'+cols.map((c,ci)=>`<td><input type="text" data-aid="${aid}" data-row="${r}" data-col="${ci}" value="${(S.answers[aid+'_r'+r+'c'+ci])||''}" onchange="saveSchemaCell(this)"></td>`).join('')+'</tr>';
  }
  input+='</table></div>';
 } else if(q.type==='textarea_long'){
  input=`<textarea id="a_${aid}" rows="8" placeholder="Skriv ditt svar h√§r..." oninput="saveAnswer('${aid}',this.value);updateWc(this)">${h(val)}</textarea><div class="word-count" id="wc_${aid}">${wordCount(val)} ord${q.minWords?' (minst '+q.minWords+')':''}</div>`;
 } else {
  input=`<textarea id="a_${aid}" rows="4" placeholder="Skriv ditt svar h√§r..." oninput="saveAnswer('${aid}',this.value)">${h(val)}</textarea>`;
 }
 return `<div class="card" style="border-left:3px solid var(--pri)"><div class="q-label"><span class="q-num">${q.label.split(')')[0]})</span>${q.label.split(')').slice(1).join(')')}</div><p style="margin-bottom:.75rem;color:var(--text2);font-size:.9rem">${q.instr}</p>${input}<details style="margin-top:.5rem"><summary style="cursor:pointer;font-size:.82rem;color:var(--pri);font-weight:600">Visa ledtr√•d</summary><div class="box-info" style="margin-top:.5rem;font-size:.85rem">${q.hints}</div></details></div>`;
}

function renderOvning(){
 const t=$('tab-ovning');
 let html=`<h1 style="margin-bottom:1rem">Tenta√∂vning</h1>
  <div class="toggle-group"><div class="toggle-btn ${S.mode==='full'?'active':''}" onclick="S.mode='full';S.cat=null;renderOvning()">Hela tentor</div><div class="toggle-btn ${S.mode==='partial'?'active':''}" onclick="S.mode='partial';renderOvning()">Del√∂vning</div></div>`;

 if(S.mode==='partial'){
  html+='<p style="color:var(--text2);margin-bottom:.5rem">V√§lj en kategori f√∂r att √∂va p√• specifika fr√•getyper:</p><div class="chip-grid">';
  Object.entries(CATS).forEach(([k,v])=>{
   html+=`<div class="chip ${S.cat===k?'active':''}" onclick="S.cat='${k}';renderOvning()">${v.label}</div>`;
  });
  html+='</div>';
  if(S.cat){
   html+=`<h2 style="margin:1.5rem 0 1rem">${CATS[S.cat].label} ‚Äì alla fr√•gor</h2>`;
   EXAMS.forEach(ex=>{
    const allQ=[...ex.del1.questions,...ex.del2.questions];
    if(ex.del3.question)allQ.push(ex.del3.question);
    const filtered=allQ.filter(q=>q.cat===S.cat);
    if(filtered.length>0){
     html+=`<h3 style="margin:1rem 0 .5rem;color:var(--text2)">${ex.generated?ex.date:'Tenta '+ex.date}</h3>`;
     html+=`<div class="text-passage"><div class="text-passage-label">${ex.del1.text1.label}</div>${ex.del1.text1.content}</div>`;
     if(S.cat==='bisatser'||S.cat==='positionsschema'||S.cat==='subjekt_finit'){
      html+=`<div class="text-passage"><div class="text-passage-label">${ex.del2.text2.label}</div>${ex.del2.text2.content}</div>`;
     }
     filtered.forEach(q=>{html+=renderQuestion(q,ex.id)});
    }
   });
  }
 } else {
  html+='<p style="color:var(--text2);margin-bottom:.5rem">V√§lj en tenta att √∂va p√•:</p>';
  html+=renderExamSelector('tab-ovning');
  if(S.exam){
   const ex=EXAMS.find(e=>e.id===S.exam);
   if(ex){
    html+=`<hr style="margin:1.5rem 0;border:none;border-top:1px solid var(--border)">`;
    html+=`<h2>${ex.generated?ex.date:'Tentamen '+ex.date} ‚Äì ${ex.location}</h2>`;
    html+=`<p style="color:var(--text2);margin-bottom:1rem">Maxpo√§ng: ${ex.maxPts} | Godk√§nt: 60p | V√§l godk√§nt: 80p</p>`;
    // DEL 1
    html+=`<h2 style="margin:1.5rem 0 .5rem">DEL 1: ${ex.del1.title} (${ex.del1.pts}p)</h2>`;
    html+=`<div class="text-passage"><div class="text-passage-label">${ex.del1.text1.label}</div>${ex.del1.text1.content}</div>`;
    ex.del1.questions.forEach(q=>{html+=renderQuestion(q,ex.id)});
    // DEL 2
    html+=`<h2 style="margin:1.5rem 0 .5rem">DEL 2: ${ex.del2.title} (${ex.del2.pts}p)</h2>`;
    html+=`<div class="text-passage"><div class="text-passage-label">${ex.del2.text2.label}</div>${ex.del2.text2.content}</div>`;
    ex.del2.questions.forEach(q=>{html+=renderQuestion(q,ex.id)});
    // DEL 3
    if(ex.del3.question){
     html+=`<h2 style="margin:1.5rem 0 .5rem">DEL 3: ${ex.del3.title} (${ex.del3.pts}p)</h2>`;
     html+=renderQuestion(ex.del3.question,ex.id);
    }
    html+=`<div style="margin:1.5rem 0;display:flex;gap:.5rem;flex-wrap:wrap">
     <button class="btn btn-acc" onclick="transferToTest('${ex.id}')">Skicka till AI-r√§ttning ‚Üí</button>
     <button class="btn btn-ghost" onclick="clearExamAnswers('${ex.id}')">Rensa svar</button></div>`;
   }
  }
 }
 t.innerHTML=html;
}

function renderTentatest(){
 const t=$('tab-tentatest');
 let html=`<h1 style="margin-bottom:.5rem">Tentatest ‚Äì AI-r√§ttning</h1>
  <p style="color:var(--text2);margin-bottom:1.5rem">Fyll i en tenta och l√•t AI r√§tta dina svar med detaljerad feedback.</p>`;

 html+=`<div class="card"><h3>1. V√§lj tenta</h3><div id="tentatest-exams">${renderExamSelector('tentatest-exams')}</div></div>`;

 html+=`<div class="card"><h3>2. API-nyckel (Gemini)</h3><p style="font-size:.85rem;color:var(--text2);margin-bottom:.75rem">Din nyckel sparas lokalt i IndexedDB ‚Äì skickas aldrig till n√•gon server.</p>
  <div class="api-key-input"><input type="password" id="apiKeyInput" placeholder="AIza..."><button class="btn btn-sec btn-sm" onclick="saveApiKey()">Spara</button><button class="btn btn-ghost btn-sm" onclick="deleteApiKey()">Ta bort</button></div>
  <div id="apiKeyStatus" style="font-size:.82rem;margin-top:.5rem"></div></div>`;

 html+=`<div class="card"><h3>3. Modellval</h3>
  <select id="modelSelect" style="max-width:400px" onchange="localStorage.setItem('sva044model',this.value)">
   <option value="gemini-2.0-flash">gemini-2.0-flash (standard)</option>
   <option value="gemini-2.0-flash-lite">gemini-2.0-flash-lite (snabbare)</option>
   <option value="gemini-2.5-flash-preview-05-20">gemini-2.5-flash-preview</option>
   <option value="gemini-3-flash-preview">gemini-3-flash-preview</option>
   <option value="gemini-3-pro-preview">gemini-3-pro-preview</option>
  </select></div>`;

 if(S.exam){
  const ex=EXAMS.find(e=>e.id===S.exam);
  if(ex){
   html+=`<div class="card"><h3>4. Dina svar ‚Äì ${ex.generated?ex.date:'Tenta '+ex.date}</h3>`;
   html+=`<div class="text-passage"><div class="text-passage-label">${ex.del1.text1.label}</div>${ex.del1.text1.content}</div>`;
   ex.del1.questions.forEach(q=>{html+=renderQuestion(q,ex.id)});
   html+=`<div class="text-passage"><div class="text-passage-label">${ex.del2.text2.label}</div>${ex.del2.text2.content}</div>`;
   ex.del2.questions.forEach(q=>{html+=renderQuestion(q,ex.id)});
   if(ex.del3.question)html+=renderQuestion(ex.del3.question,ex.id);
   html+=`<button class="btn btn-acc" style="margin-top:1rem;width:100%;justify-content:center;padding:14px" onclick="runGrading('${ex.id}')" id="gradeBtn">ü§ñ R√§tta med AI</button></div>`;
  }
 }
 html+='<div id="gradeResults"></div>';
 t.innerHTML=html;
 loadApiKeyStatus();
 const savedModel=localStorage.getItem('sva044model');
 if(savedModel&&$('modelSelect'))$('modelSelect').value=savedModel;
}

function renderStudy(){
 const t=$('tab-plugga');
 let chapters={};
 STUDY.forEach(s=>{if(!chapters[s.ch])chapters[s.ch]=[];chapters[s.ch].push(s)});
 const activeSec=S.studySec||STUDY[0].id;
 const sec=STUDY.find(s=>s.id===activeSec)||STUDY[0];

 let nav='';
 Object.entries(chapters).forEach(([ch,secs])=>{
  nav+=`<div class="study-nav-chapter">${ch}</div>`;
  secs.forEach(s=>{
   const done=S.progress[s.id]?'‚úì ':'';
   nav+=`<a class="study-nav-item ${s.id===activeSec?'active':''}" onclick="S.studySec='${s.id}';renderStudy()">${done}${s.title}</a>`;
  });
 });

 let content=`<h1 style="margin-bottom:1.5rem">${sec.title}</h1>`;
 sec.content.forEach(b=>{
  if(b.t==='p') content+=`<p>${b.v}</p>`;
  else if(b.t==='tip') content+=`<div class="box-tip">${b.v}</div>`;
  else if(b.t==='exam') content+=`<div class="box-exam">${b.v}</div>`;
  else if(b.t==='table'){
   content+=`<table class="tbl tbl-sm"><tr>${b.headers.map(h=>'<th>'+h+'</th>').join('')}</tr>`;
   b.rows.forEach(r=>{content+='<tr>'+r.map(c=>'<td>'+c+'</td>').join('')+'</tr>'});
   content+='</table>';
  }
 });

 if(sec.quiz&&sec.quiz.length>0){
  content+=`<h2 style="margin:2rem 0 1rem">Testa dig sj√§lv</h2>`;
  sec.quiz.forEach((q,qi)=>{
   const qid=sec.id+'_q'+qi;
   content+=`<div class="quiz-box" id="quiz_${qid}"><div class="quiz-q">${q.q}</div><div class="quiz-opts">`;
   q.opts.forEach((o,oi)=>{
    content+=`<label><input type="radio" name="quiz_${qid}" value="${oi}" onchange="checkQuiz('${qid}',${oi},${q.ans},'${h(q.expl)}')">${o}</label>`;
   });
   content+=`</div><div class="quiz-feedback" id="fb_${qid}"></div></div>`;
  });
 }

 // Nav to next section
 const idx=STUDY.findIndex(s=>s.id===activeSec);
 if(idx<STUDY.length-1){
  content+=`<div style="margin-top:2rem;text-align:right"><button class="btn btn-pri" onclick="S.studySec='${STUDY[idx+1].id}';renderStudy();window.scrollTo(0,0)">N√§sta: ${STUDY[idx+1].title} ‚Üí</button></div>`;
 }

 t.innerHTML=`<div class="study-layout"><nav class="study-nav">${nav}</nav><div class="study-content">${content}</div></div>`;
}

function renderSettings(){
 const t=$('tab-settings');
 t.innerHTML=`<h1 style="margin-bottom:1.5rem">Inst√§llningar</h1>
  <div class="card">
   <h3>Gemini API-nyckel</h3>
   <p style="font-size:.85rem;color:var(--text2);margin-bottom:.75rem">Nyckeln sparas lokalt i din webbl√§sares IndexedDB. Den skickas enbart direkt till Googles API vid r√§ttning.</p>
   <div class="api-key-input"><input type="password" id="settingsApiKey" placeholder="AIza..."><button class="btn btn-sec btn-sm" onclick="saveApiKeyFromSettings()">Spara</button><button class="btn btn-ghost btn-sm" onclick="deleteApiKey();renderSettings()">Ta bort</button></div>
   <div id="settingsKeyStatus" style="font-size:.82rem;margin-top:.5rem"></div>
  </div>
  <div class="card">
   <h3>AI-modell</h3>
   <select id="settingsModel" style="max-width:400px" onchange="localStorage.setItem('sva044model',this.value)">
    <option value="gemini-2.0-flash">gemini-2.0-flash (standard)</option>
    <option value="gemini-2.0-flash-lite">gemini-2.0-flash-lite (snabbare)</option>
    <option value="gemini-2.5-flash-preview-05-20">gemini-2.5-flash-preview</option>
    <option value="gemini-3-flash-preview">gemini-3-flash-preview</option>
    <option value="gemini-3-pro-preview">gemini-3-pro-preview</option>
   </select>
  </div>
  <div class="card">
   <h3>Rensa sparade svar</h3>
   <p style="font-size:.85rem;color:var(--text2);margin-bottom:.75rem">Tar bort alla sparade tentasvar och quiz-framsteg.</p>
   <button class="btn btn-ghost" onclick="if(confirm('Radera alla sparade svar och framsteg?')){S.answers={};S.progress={};S.save();renderSettings();renderHome()}">Rensa allt</button>
  </div>
  <div class="card">
   <h3>Om</h3>
   <p style="font-size:.85rem;color:var(--text2)">SVA044 Grammatik ‚Äì Interaktivt studieverktyg<br>Kurs: Svenska f√∂r grundl√§rare F‚Äì3, M√§lardalens universitet<br>Tentamen: TEN1 ‚Äì Svensk grammatik och spr√•kstruktur</p>
  </div>`;
 loadSettingsKeyStatus();
 const m=localStorage.getItem('sva044model');
 if(m&&$('settingsModel'))$('settingsModel').value=m;
}

// ---- ACTIONS ----
function saveAnswer(aid,val){S.answers[aid]=val;S.save()}
function saveSchemaCell(el){const k=el.dataset.aid+'_r'+el.dataset.row+'c'+el.dataset.col;S.answers[k]=el.value;S.save()}
function updateWc(el){const aid=el.id.replace('a_','');const wc=$('wc_'+aid);if(wc)wc.textContent=wordCount(el.value)+' ord'}
function clearExamAnswers(eid){Object.keys(S.answers).filter(k=>k.startsWith(eid)).forEach(k=>delete S.answers[k]);S.save();renderOvning()}
function transferToTest(eid){S.exam=eid;switchTab('tentatest')}

function checkQuiz(qid,sel,ans,expl){
 const fb=$('fb_'+qid);
 if(sel===ans){fb.className='quiz-feedback show correct';fb.innerHTML='‚úì R√§tt! '+expl}
 else{fb.className='quiz-feedback show wrong';fb.innerHTML='‚úó Fel. '+expl}
 // Mark section progress
 const secId=qid.split('_q')[0];
 S.progress[secId]=true;S.save();
}

async function saveApiKey(){
 const v=$('apiKeyInput').value.trim();
 if(!v)return;
 await DB.set('apikey',v);
 $('apiKeyInput').value='';
 loadApiKeyStatus();
}
async function saveApiKeyFromSettings(){
 const v=$('settingsApiKey').value.trim();
 if(!v)return;
 await DB.set('apikey',v);
 $('settingsApiKey').value='';
 loadSettingsKeyStatus();
}
async function deleteApiKey(){await DB.del('apikey');loadApiKeyStatus();loadSettingsKeyStatus()}
async function loadApiKeyStatus(){
 const k=await DB.get('apikey');
 const el=$('apiKeyStatus');
 if(el)el.innerHTML=k?'<span style="color:var(--grn)">‚úì Nyckel sparad</span>':'<span style="color:var(--text3)">Ingen nyckel sparad</span>';
}
async function loadSettingsKeyStatus(){
 const k=await DB.get('apikey');
 const el=$('settingsKeyStatus');
 if(el)el.innerHTML=k?'<span style="color:var(--grn)">‚úì Nyckel sparad</span>':'<span style="color:var(--text3)">Ingen nyckel sparad</span>';
}

// ---- AI GRADING ----
async function runGrading(eid){
 const btn=$('gradeBtn');
 const res=$('gradeResults');
 const apiKey=await DB.get('apikey');
 if(!apiKey){res.innerHTML='<div class="box-warn">Du m√•ste ange en Gemini API-nyckel under Inst√§llningar eller ovan.</div>';return}

 const ex=EXAMS.find(e=>e.id===eid);
 if(!ex)return;

 btn.disabled=true;btn.innerHTML='<span class="spinner"></span> R√§ttar...';
 res.innerHTML='';

 // Collect answers
 const allQ=[...ex.del1.questions,...ex.del2.questions];
 if(ex.del3.question)allQ.push(ex.del3.question);

 let qBlock='';
 allQ.forEach(q=>{
  const aid=eid+'-'+q.id;
  let answer=S.answers[aid]||'(inget svar)';
  // Also get schema cells
  if(q.type==='schema'){
   let rows=[];
   for(let r=0;r<4;r++){
    let row=[];
    for(let c=0;c<7;c++){row.push(S.answers[aid+'_r'+r+'c'+c]||'')}
    if(row.some(v=>v))rows.push(row.join(' | '));
   }
   answer=rows.join('\n')||'(inget svar)';
  }
  qBlock+=`\nFr√•ga ${q.label} (kategori: ${q.cat}):\nInstruktion: ${q.instr}\nF√∂rv√§ntade svar (referens): ${q.hints}\nStudentens svar: "${answer}"\n`;
 });

 const model=localStorage.getItem('sva044model')||'gemini-2.0-flash';
 const prompt=`Du √§r en r√§ttande universitetsl√§rare f√∂r kursen SVA044 (Svenska f√∂r grundl√§rare F‚Äì3) vid M√§lardalens Universitet. Du ska r√§tta en students tentasvar noggrant.

TENTAMEN: ${ex.date}
Maxpo√§ng: ${ex.maxPts}. Godk√§nt: 60p. V√§l Godk√§nt: 80p.

TEXT 1: ${ex.del1.text1.content}

TEXT 2: ${ex.del2.text2.content}

FR√ÖGOR OCH SVAR:
${qBlock}

R√ÑTTNINGSPRINCIPER:
- Substantiv: Kontrollera att r√§tt ord identifierats (ej egennamn). Kontrollera sing/plur och best/obest korrekt.
- Verb: Alla verb identifierade? Tempusbest√§mning korrekt?
- Pronomen/Adjektiv/Prepositioner: R√§tt ordklass?
- Morfemanalys: Korrekt uppdelning i morfem med r√§tt morfemtyp (rot, prefix, suffix, b√∂jning, avledning).
- Bisatser: Hela bisatsen uth√§mtad korrekt, b√∂rjar vid bisatsinledaren?
- Positionsschema: BIFF-regeln ‚Äì satsadverbialet F√ñRE finita verbet i bisatser.
- Subjekt/Finit verb: Korrekt identifiering per sats.
- Didaktik: Pedagogisk ansats, korrekt grammatikf√∂rklaring, kvalitet p√• √∂vning, minst antal ord uppn√•tt?

Svara med EXAKT detta JSON-format och INGENTING ANNAT:
{"totalScore":NUMBER,"grade":"U eller G eller VG","questions":[{"id":"FRAGE_ID","score":NUMBER,"maxScore":NUMBER,"status":"correct eller partial eller incorrect","feedback":"kort kommentar","attTankaPa":"tips eller null"}],"overallFeedback":"sammanfattande kommentar"}`;

 try{
  const url=`https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`;
  const resp=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({
   contents:[{parts:[{text:prompt}]}],
   generationConfig:{temperature:0.2,maxOutputTokens:8192}
  })});

  if(!resp.ok){
   const err=await resp.json().catch(()=>({}));
   throw new Error(err.error?.message||`API-fel: ${resp.status}`);
  }

  const data=await resp.json();
  const text=data.candidates?.[0]?.content?.parts?.[0]?.text||'';
  // Extract JSON from response (may be wrapped in ```json ... ```)
  const jsonMatch=text.match(/\{[\s\S]*\}/);
  if(!jsonMatch)throw new Error('Kunde inte tolka AI-svaret. R√• respons: '+text.substring(0,200));

  const result=JSON.parse(jsonMatch[0]);
  renderGradeResults(result,ex);
 }catch(e){
  res.innerHTML=`<div class="box-warn"><strong>Fel vid r√§ttning:</strong> ${h(e.message)}</div>`;
 }finally{
  btn.disabled=false;btn.innerHTML='ü§ñ R√§tta med AI';
 }
}

function renderGradeResults(r,ex){
 const res=$('gradeResults');
 const gradeColor=r.grade==='VG'?'var(--grn)':r.grade==='G'?'var(--pri)':'var(--red)';
 let html=`<div class="result-header" style="background:linear-gradient(135deg,${gradeColor},${gradeColor}dd)">
  <div class="result-grade">${r.grade}</div>
  <div class="result-score">${r.totalScore} / ${ex.maxPts} po√§ng</div>
  <div style="margin-top:.5rem;opacity:.85">${r.grade==='VG'?'V√§l Godk√§nd':r.grade==='G'?'Godk√§nd':'Underk√§nd'}</div></div>`;

 if(r.overallFeedback){
  html+=`<div class="card"><h3>Sammanfattning</h3><p style="color:var(--text2)">${r.overallFeedback}</p></div>`;
 }

 html+='<h2 style="margin:1rem 0">Resultat per fr√•ga</h2>';
 (r.questions||[]).forEach(q=>{
  const dotCls=q.status==='correct'?'dot-grn':q.status==='partial'?'dot-yel':'dot-red';
  html+=`<div class="result-q ${q.status}">
   <div style="display:flex;align-items:center;gap:.5rem;margin-bottom:.4rem">
    <span class="result-dot ${dotCls}"></span>
    <strong>${q.id}</strong>
    <span style="margin-left:auto;font-weight:600">${q.score}/${q.maxScore}p</span>
   </div>
   <p style="font-size:.88rem;color:var(--text2)">${q.feedback||''}</p>
   ${q.attTankaPa&&q.attTankaPa!=='null'?`<div class="att-tanka-pa"><strong>Att t√§nka p√•:</strong> ${q.attTankaPa}</div>`:''}
  </div>`;
 });

 res.innerHTML=html;
 res.scrollIntoView({behavior:'smooth'});
}

// ---- TAB SWITCHING ----
function switchTab(tab){
 S.tab=tab;
 document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
 document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
 $('tab-'+tab).classList.add('active');
 document.querySelector(`.nav-btn[data-tab="${tab}"]`).classList.add('active');
 if(tab==='hem')renderHome();
 else if(tab==='ovning')renderOvning();
 else if(tab==='tentatest')renderTentatest();
 else if(tab==='plugga')renderStudy();
 else if(tab==='settings')renderSettings();
}

// ---- INIT ----
S.load();
document.querySelectorAll('.nav-btn').forEach(b=>{
 b.addEventListener('click',()=>switchTab(b.dataset.tab));
});
renderHome();

</script>
</body>
</html>
